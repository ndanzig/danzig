<!-- output file generated by BM Utilities -->
<html>

<p><a href="./3376fm.html"><img src="fm2html-toc.gif">Table of Contents</a>  <a href="3376ch2.html#arch"><img src="fm2html-previous.gif">Architecture
and Protocols</a><br>
<head>
<title>
TCP/IP Tutorial and Technical Overview
</title>
<body>

<h2><a name="archmod">2.1  Architectural Model</a>
</h2>
<p><a name=index629>The</a> TCP/IP protocol suite is named for two of its most
important protocols: Transmission Control Protocol (TCP) and Internet Protocol
(IP). <a name=index630>Another</a> name for it is the Internet Protocol Suite,
and this is the phrase used in official Internet standards documents.  We shall
use the more common term TCP/IP to refer to the entire protocol suite in this
book.

<h3><a name="H54">2.1.1  Internetworking</a>
</h3>
<p><a name=index632>The</a> first design goal of TCP/IP was to build an
interconnection of networks that provided universal communication services:
<a name=index634>an</a> <i>internetwork</i>, or <i>internet</i>. Each physical
network has its own technology-dependent communication interface, in the form
of a programming interface that provides basic communication functions
(primitives). Communication services are provided by software that runs between
the physical network and the user applications and that provides a common
interface for these applications, independent of the underlying physical
network. The architecture of the physical networks is hidden from the user.
<p>The second aim is to <i>interconnect</i> different physical networks to form
what appears to the the user to be one large network. Such a set of
interconnected networks is called an <i>internetwork</i> or an <i>internet</i>.
<p>To be able to interconnect two networks, we need a computer that is attached
to both networks and that can forward packets from one network to the other;
such a machine is called <a name=index636>a</a> <i>router</i>. The term <i>IP
router</i> is also used because the routing function is part of the IP layer of
the TCP/IP protocol suite (see <a href="3376c21.html#archlay">Layered
Protocols</a>).
<p><a href="3376c21.html#figintern1">Figure - Internet Examples</a> shows two
examples of internets.
<br><br><a name=figintern1>
<img src="337601.gif"></a>
<br><i>Figure: Internet Examples</i> - Two interconnected sets of networks,
each seen as one logical network.<br><br>
<p>The basic properties of a router are:
<ul>
<li>From the network standpoint, a router is a normal host.
<li>From the user standpoint, routers are invisible. The user sees only one
large internetwork.
</ul>
<p>To be able to identify a host on the internetwork, each host
<a name=index637>is</a> assigned an address, the <i>IP address</i>. When a host
has multiple network adapters, each adapter has a separate IP address. The IP
address consists of two parts:
<pre>
IP address = &lt;network number&gt;&lt;host number&gt;
</pre>
<p>The <i>network number</i> part of the IP address is assigned by a central
authority and is unique throughout the Internet. The authority for assigning
the <i>host number</i> part of the IP address resides with the organization
which controls the network identified by the network number. The addressing
scheme is described in detail in <a href="3376c22.html#address">Addressing</a>.

<h3><a name="H56">2.1.2  Internet Architecture</a>
</h3>
<p><a name=index638>The</a> TCP/IP protocol suite has evolved over a time
period of some 25 years. We will describe the most important aspects of the
protocol suite in this and the following chapters.

<h4><a name="archlay">2.1.2.1  Layered Protocols</a>
</h4>
<p><a name=index641>TCP/IP,</a> like most networking software, is modelled in
layers.  This layered representation leads to the term <i>protocol stack</i>
<a name=index642>which</a> is synonymous with protocol suite. It can be used
for situating (but <i>not</i> for comparing functionally) the TCP/IP protocol
suite against others, such as SNA and Open System Interconnection (OSI).
Functional comparisons cannot easily be extracted from this, as there are basic
differences in the layered models used by the different protocol suites.
<p>The Internet protocols are modeled in four layers:
<br><br><a name=figintlay>
<img src="3376f1.gif"></a>
<br><i>Figure: Architectural Model</i> - Each layer represents a :q.package:eq.
of functions.<br><br>
<dl>
<dt>
<a name=index643>Application</a>
<dd><a name=index644>is</a> a user process cooperating with another process on
the same or a different host. Examples are TELNET (a protocol for remote
terminal connections), FTP (File Transfer Protocol) and SMTP (Simple Mail
Transfer Protocol). These are discussed in detail in
<a href="3376ch4.html#applic">Application Protocols</a>.
<dt>
Transport
<dd><a name=index645>provides</a> the end-to-end data transfer. Example
protocols are TCP  (<i>connection-oriented</i>) and UDP
(<i>connectionless</i>). Both are discussed in detail in
<a href="3376c212.html#tcp">Transmission Control Protocol (TCP)</a> and
<a href="3376c211.html#udpf1">User Datagram Protocol (UDP)</a>
<dt>
Internetwork
<dd><a name=index646>also</a> called the <i>internet layer</i> or the
<i>network layer</i>, the internetwork provides the ``virtual network'' image
of internet (that is, this layer shields the higher levels from the typical
network architecture below it). <a name=index647>Internet</a> Protocol (IP) is
the most important protocol in this layer. It is a <i>connectionless</i>
protocol which doesn't assume reliability from the lower layers. IP does
<i>not</i> provide reliability, flow control or error recovery. These functions
must be provided at a higher level, either at the Transport layer by using TCP
as the transport protocol, or at the Application layer if UDP is used as the
transport protocol. IP is discussed in detail in
<a href="3376c23.html#ip">Internet Protocol (IP)</a>. A message unit in an IP
network is called an <i>IP datagram</i><a name=index648>.</a> This is the basic
unit of information transmitted across TCP/IP networks. It is described in
<a href="3376c23.html#ipdatag">IP Datagram</a> but we shall refer to it in this
section to show how the different TCP/IP layers relate to an internet.
<dt>
Network Interface
<dd><a name=index649>also</a> called the <i>link layer</i> or the <i>data-link
layer</i>, the network interface layer is the interface to the actual network
hardware. This interface may or may not provide reliable delivery, and may be
packet or stream oriented. In fact, TCP/IP does not specify any protocol here,
but can use almost any network interface available, which illustrates the
flexibility of the IP layer. Examples are IEEE 802.2, X.25 (which is reliable
in itself), ATM, FDDI, Packet Radio Networks (such as the AlohaNet) and even
SNA. The possible physical networks and interfaces the IBM TCP/IP products can
connect to are discussed in <a href="3376ch5.html#connect">Connections</a>.
</dl>
<p>The actual interactions between the layers are shown by the arrows in
<a href="3376c21.html#figintlay">Figure - Architectural Model</a>.
<a name=index650>A</a> more detailed ``layering model'' is shown in
<a href="3376c21.html#figintro2">Figure - Detailed Architectural Model</a>.
<br><br><a name=figintro2>
<img src="3376layr.gif"></a>
<br><i>Figure: Detailed Architectural Model</i><br><br>

<h4><a name="archbrg">2.1.2.2  Bridges, Routers and Gateways</a>
</h4>
<p><a name=index651>Forming</a> an internetwork by interconnecting multiple
networks is done by <i>routers</i>. It is important to distinguish between a
router, a bridge and a gateway.
<dl>
<dt>
Bridge
<dd><a name=index652>Interconnects</a> LAN segments at the Network Interface
layer level and forwards frames between them. A bridge performs the function of
a MAC relay, and is independent of any higher layer protocol (including the
Logical Link protocol). It provides MAC layer protocol conversion, if required.
Examples of bridges are:
<ul>
<li>A PS/2 running the IBM Token-Ring Network Bridge program
<li>The IBM 8229 LAN bridge
</ul>
<p>A bridge can be said to be <i>transparent</i> to IP. That is, when a host
sends an IP datagram to another host on a network connected by a bridge, it
sends the datagram directly to the host and the datagram ``crosses'' the bridge
without the sending host being aware of it.
<dt>
Router
<dd><a name=index653>Interconnects</a> networks at the internetwork layer level
and routes packets between them. The router must understand the addressing
structure associated with the networking protocols it supports and take
decisions on whether, or how, to forward packets. Routers are able to select
the best transmission paths and optimal packet sizes. The basic routing
function is implemented in the IP layer of the TCP/IP protocol stack. Therefore
any host or workstation running TCP/IP may be used as a router. However,
dedicated routers such as the IBM 6611 Network Processor provide much more
sophisticated routing than the minimum function implemented by IP. Because IP
provides this basic routing function, the term ``IP router'', is often used.
Other, older, terms for router are ``IP gateway'', ``Internet gateway'' and
``gateway''. <a name=index656>The</a> term <i>gateway</i> is now normally used
for connections at a higher level than the router level.
<p>A router can be said to be <i>visible</i> to IP.  That is, when a host sends
an IP datagram to another host on a network connected by a router, it sends the
datagram to the router and not directly to the target host.
<dt>
Gateway
<dd><a name=index657>Interconnects</a> networks at higher levels than bridges
or routers. A gateway usually supports address mapping from one network to
another, and may also provide transformation of the data between the
environments to support end-to-end application connectivity. Gateways typically
limit the interconnectivity of two networks to a subset of the application
protocols supported on either one. For example, a VM host running TCP/IP may be
used as an SMTP/RSCS mail gateway.
<p><b>Note:</b> The term ``gateway'', when used in this sense, is <i>not</i>
synonymous with ``IP gateway''.
<p>A gateway can be said to be <i>opaque</i> to IP. That is, a host cannot send
an IP datagram through a gateway: it can only send it <i>to</i> a gateway. The
higher-level protocol information carried by the datagrams is then passed on by
the gateway using whatever networking architecture is used on the other side of
the gateway.
</dl>
<p>Closely related to routers and gateways is the concept of a <i>firewall</i>
<a name=index658>or</a> <i>firewall gateway</i> which is used to restrict
access from the Internet to a network or a group of networks controlled by an
organization for security reasons. See
<a href="3376c63.html#firewal">Firewalls</a> for more information on firewalls.

<h4><a name="H61">2.1.2.3  IP Routing</a>
</h4>
<p>Incoming datagrams will be checked to see if the local host is the IP
destination host:
<dl>
<dt>
<a name=index659>yes</a>
<dd>The datagram is passed to the higher-level protocols.
<dt>
no
<dd>The datagram is for a different host.  The action depends on the value of
the <i>ipforwarding</i> flag.
<dl>
<dt>
<a name=index660>true</a>
<dd>The datagram is treated as an outgoing datagram and is routed to the
<i>next hop</i> according to the algorithm described below.
<dt>
false
<dd>The datagram is discarded.
</dl>
</dl>
<p>In the internet protocol, outgoing IP datagrams pass through the <i>IP
routing</i> algorithm which determines where to send the datagram according to
the destination IP address.
<ul>
<li><a name=index663>If</a> the host has an entry in its <i>IP routing
table</i> <a name=index664>(see</a> <a href="3376c31.html#iprtr">Basic IP
Routing</a>) which matches the destination IP address, the datagram is sent to
the address in the entry.
<li>If the network number of the destination IP address is the same as the
network number for one of the host's network adapters (that is, the destination
and the host are on the same network) the datagram is sent to the physical
address of the host matching the destination IP address.
<li>Otherwise, the datagram is sent to a <i>default router</i>.
</ul>
<p><a name=index665>This</a> base algorithm, needed on all IP implementations,
is sufficient to perform the base routing function.
<p>As noted above, a TCP/IP host has basic router functionality included in the
IP protocol. <a name=index666>Such</a> a router is adequate for simple routing,
but not for complex networks.  The protocols needed in complex cases are
described in <a href="3376ch3.html#routers">Routing Protocols</a>.
<p>The IP routing mechanism combined with the ``layered'' view of the TCP/IP
protocol stack, is represented in
<a href="3376c21.html#figintro4">Figure - Internet Router</a>. This shows an IP
datagram, going from one IP address (network number X, host number A) to
another (network number Y, host number B), through two physical networks.  Note
that at the intermediate router, only the lower part of the TCP/IP protocol
stack (the internetwork and the network interface layers) are involved.
<br><br><a name=figintro4>
<img src="337606.gif"></a>
<br><i>Figure: Internet Router</i> - The router function is performed by the IP
protocol.<br><br>

<p><a href="./3376fm.html"><img src="fm2html-toc.gif">Table of Contents</a>  <a href="3376c22.html#address"><img src="fm2html-next.gif">Addressing</a><br>
</html>
