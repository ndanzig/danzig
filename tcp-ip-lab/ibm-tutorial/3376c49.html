<!-- output file generated by BM Utilities -->
<html>

<p><a href="./3376fm.html"><img src="fm2html-toc.gif">Table of Contents</a>  <a href="3376c48.html#H612"><img src="fm2html-previous.gif">DOS</a><br>
<head>
<title>
TCP/IP Tutorial and Technical Overview
</title>
<body>

<h2><a name="xwin">4.9  X Window System</a>
</h2>
<br><br><a name=figxwin1>
<img src="3376xwin.gif"></a>
<br><i>Figure: X Window System</i><br><br>
<p><a name=index1693>The</a> X Window System (hereafter referred to as X) is
one of the most widely used <i>Graphical User Interface
(GUI)</i><a name=index1694>,</a> or bitmapped-window display systems. It is
supported by all major workstation vendors, and is used by a large and growing
number of users worldwide.  The X Window System offers more than just a raw
environment. It also offers a platform for uniquely incorporated commercial
packages. In addition to writing application software, some industry groups
have created proprietary software packages and standards for interfaces which
leverage the display capabilities of the X Window System. These packages are
then integrated into applications to improve the <i>look and feel</i> of them.
The two most <a name=index1698>significant</a> commercial packages in this area
are the Open Software Foundation's <i>MOTIF</i> <a name=index1699>and</a> UNIX
International's <i>Open Look</i>. X was the brainchild of Robert Scheifler, Jim
Gettys, and <a name=index1700>others</a> at MIT, as part of <i>Project
Athena</i>, a research project devoted to the examination of very large
networks of personal computers and workstations. (For an overview of the
Project Athena, please refer to <i>Project Athena: Supporting Distributed
Computing at MIT</i>). As part of this study, a unifying window system
environment extending over all systems was deemed necessary. X was envisioned
as this window system, one that could be used among the varied heterogeneous
computers and networks.
<p>As Project Athena progressed, X evolved into a portable network-based window
system. Much of the early work on X was derived from an extant Stanford window
system called W. In fact the name X was simply a play on the previous name W.
The MIT X Consortium, founded in 1988, is dedicated to the advancement of the X
Window System and to the promotion of cooperation within the computer industry
in standardizing the X Window System interfaces.
<p>Current X releases contain two numbers: the <i>version number</i> indicating
major protocol or standards revisions, and a <i>release number</i> indicating
minor changes. At the time of writing, the latest version is X11 Release 6,
also known as X11R6. The latest release of OSF/MOTIF is V1.2 (based on X11R5).
Major revisions of X are incompatible, but there is backward compatibility with
minor releases within major revision categories.
<p>The aim of X was to allow the user to control all sessions from one screen,
with applications either running in a window, or in separate virtual terminals
but with an icon on the primary screen reminding him of the existence of that
application (the same function as OS/2 Presentation Manager).
<p>The X Window System provides the capability of managing both local and
remote windows. Remote windows are established through TCP/IP, and local
windows through the use of BSD <i>sockets</i>.

<h3><a name="H615">4.9.1  Functional Concept</a>
</h3>
<p><a name=index1701>Basically</a> there are two parts communicating with each
other:
<ol>
<li>The application, which gets input from the user, executes code and sends
output back to the user. Instead of reading and writing directly to a display,
the application uses the Xlib programming interface to send and receive data
to/from the user's terminal. The application part is also called the X client.
<li>The user's terminal, running a display-managing software which
receives/sends data from/to the application and is called the X server.
</ol>
<br><br><a name=figxwconc>
<img src="3376f123.gif"></a>
<br><i>Figure: Concept of X Window System</i> - Clients and servers
communicating together.<br><br>
<p>Terminology:
<ul>
<li><b>X Server</b>: <a name=index1702>This</a> is a dedicated program that
provides display services on a graphic terminal, on behalf of a user, at the
request of the user's X client program. It controls the screen and handles the
keyboard and the mouse (or other input devices) for one or more X clients.
Equally, it is responsible for output to the display, the mapping of colors,
the loading of fonts and the keyboard mapping. Typically X server programs run
on high performance graphics PCs and workstations, as well as "X terminals",
which are designed to run only the X server program.
<p>The X11R5 X server has provided some speed improvements and new font
interfaces. An <i>X Font Service Protocol</i> is available to allow the X
servers to delegate the task of managing fonts to a font server.
<li><b>X Client</b>: <a name=index1703>This</a> is the actual
<i>application</i> and is designed to employ a graphical user interface to
display its output. Typically, many X clients compete for the service of one X
server per display per user. Conflict for services are resolved by the X Window
Manager, a separate entity altogether. <i>Xterm</i> and <i>Xclock</i> are two
examples of X clients.
<p>X11R5 added some more clients, new demos and a completely new implementation
of bitmap and xmag.
<li><b>X Window Manager</b>: <a name=index1704>This</a> is an X client program
located on the workstation where the X server runs. While windows can be
created without a window manager in place, a window manager permits windows to
be resized, moved, and otherwise modified on demand.
<li><b>X Protocol</b>: <a name=index1705>This</a> runs within the network
connection, and allows requests-responses between client and server. It uses a
reliable byte stream connection (that is TCP) and describes the format of
messages exchanged between client and server over this connection.
<li><b>Xlib</b>: <a name=index1706>The</a> rudimentary application programming
interface is contained in the Xlib. It is a collection of C primitive
subroutines embedded in all X clients, which gives the lowest level access to
the X protocol. The procedures in Xlib translate client requests to X protocol
requests, parse incoming messages (events, replies, and errors) from the X
server, and provide several additional utilities, such as storage management
and operating system independent operations. It is possible to write
application programs entirely with Xlib. In fact, most existing X clients are
or were developed in this fashion.
<p>X11R5 added two new major pieces of functionality to Xlib:
<ul>
<li>Device-independent color
<li>Internationalization (i18n): this means that X client application programs
can adapt to the requirements of different native languages, local customs, and
character string encodings.
</ul>
<li><b>X Toolkits</b>: <a name=index1707>The</a> complexity of the low-level
Xlib interface and of the underlying X Protocol is handled by an increasing
variety of available X <i>Toolkits</i>. The X Toolkits are software libraries
that provide high-level facilities for implementing common user-interface
<i>objects</i> such as buttons, menus, and scrollbars, as well as layout tools
for organizing these objects on the display. The basis for a family of toolkits
is provided with the standard X releases from MIT. The library, called the <b>X
Intrinsics</b> or <b>Xt</b>, forms the building blocks for sets of user
interface objects called <i>widgets</i>.
<li><b>Widgets</b>: <a name=index1708>For</a> toolkits based on the X
Intrinsics, a common interface mechanism called a <i>widget</i> is used. A
widget is essentially an X window plus some additional data and a set of
procedures for operating on that data. Widgets are a client-side notion only.
Neither the X server nor the X protocol understand widgets. A sample widget
set, <i>Xaw</i>, more commonly referred to as the <i>Athena Widget Set</i>, is
distributed by MIT with the X11 source.
</ul>
<p>Functionality:
<ul>
<li>X client and X server can be on different hosts. Then they use the TCP/IP
protocol to communicate over the network. They can also be on the same machine,
using IPC (inter-process communication) to communicate (through sockets).
<li>There is only one X server per terminal. Multiple X client applications can
communicate with this one X server. The duty of the X server is to display the
application windows and to send the user input to the appropriate X client
application.
<li>It is up to the X client to maintain the windows that it created. It is
notified by <i>events</i> from the X server whenever something is changed on
the display by other clients. However, they don't have to care about which part
of their windows are visible or not when they are drawing or redrawing their
windows.
<li>The X server keeps track of the visibility of the windows, by maintaining
<i>stacks</i>. A stack contains all <i>"first generation" children</i> of a
parent window. A child window can also be a parent window by having one or more
child windows itself, which are again held in a <i>substack</i>. The <i>primary
stack</i> is the stack which holds all the windows located directly below the
root. See <a href="3376c49.html#figxwstruc">Figure - X Window System Window
Structure</a> for an illustration. Subwindows can only be fully visible when
their parent is on the top of its respective stack and mapped to the display.
<li>X server itself has no management functions; it only performs window
clipping according to its stacks. Every client is responsible for its own
windows. There is a <i>Window Manager</i> which manipulates the top level
windows of all the clients.  The Window Manager is not part of the X server but
is itself a client. As soon as the Window Manager changes something on the
screen (for instance resizing a window), it makes the X server send out an
exposure event to all the other clients.
<li>The client applications send <i>request messages</i> to the X server, which
replies with a <i>reply message</i> or an <i>error message</i>. The X server
can also send <i>event messages</i> to the applications. Event messages
indicate changes to the windows (and their visibility), and user input (mouse
and keyboard).
</ul>
<br><br><a name=figxwstruc>
<img src="3376f124.gif"></a>
<br><i>Figure: X Window System Window Structure</i> - Each window is a child of
another window, the whole display being the root.<br><br>
<p>Applying this client/server concept gives the following advantages:
<ul>
<li>Applications don't have to know the hardware characteristics of the
terminal.
<li>Applications don't have to be on the same computer as the terminal.
<li>Programs written to Xlib are portable.
<li>New terminal types can be added by providing an appropriate X server.
<li>The programmers do not have to deal with the communications. They just
write graphic applications to Xlib, regardless of whether the users will be
remote or local.
</ul>

<h3><a name="H618">4.9.2  Protocol</a>
</h3>
<p><a name=index1709>An</a> X Window System protocol can be implemented on top
of any reliable byte stream transport mechanism. It uses a simple block
protocol on top of the stream layer. Four kinds of messages are used:
<ul>
<li>Request format. Requests flow from the client application to the X server.
<br><br>
<a name=unnamed><img src=3376t20.gif></a><br>
<br><br>
<p>Where:
<menu>
<li>Major and minor are opcodes, each 1-byte long.
<li>Length is 2-bytes long.
<li>Data may be zero or more bytes, depending on the request.
</menu>
<li>Reply format: 32-byte block.
<li>Error format: 32-byte block.
<li>Event format: 32-byte block.
</ul>
<p>Reply, error and event messages are sent by the X server to the X client
applications.
<p>Displays are always numbered from zero. For TCP connections,
<a name=index1710>display</a> number N is associated with port 5800+N (hex
5800) and port 5900+N. The X server treats connections on the 58xx ports as
connections with hosts which use the "low-order byte first" format, and the
59xx ports as "high-order byte first".
<p>There are more than a hundred different possible requests, each
corresponding to an <i>Xlib</i> application call. As this document is not a
programmer's guide, we will not deal with the <i>Xlib</i> functions. <i>RFC
1013 - X Window System Protocol, Version 11</i> contains the 1987 alpha update
of the X11 protocol. For documentation on the current release X11R6, please
contact either MIT or a commercial computer books publisher. For documentation
on IBM X Windows implementations, please see the appropriate section in
<a href="3376ax1.html#relpubs">Bibliography</a>.

<h3><a name="H620">4.9.3  Implementations</a>
</h3>

<h4><a name="H621">4.9.3.1  VM</a>
</h4>
<p><a name=index1711>The</a> TCP/IP for VM API is from the X Window System
Version 11, Release 4 and includes the following components:
<ul>
<li>X11LIB TXTLIB (Xlib, Xmu, Xext, and Xau routines).
<li>OLDXLIB TXTLIB (X Release 10 compatibilty routines).
<li>XTLIB TXTLIB (Xt Intrinsics).
<li>XAWLIB TXTLIB (Athena Widget set).
<li>Header files (H files) needed for compiling X clients.
<li>Standard MIT X clients.
<li>Sample X clients (Xlib sample program, Athena Widget set sample program,
OSF/Motif-based widget sample program).
</ul>
<p>In addition, it also includes an API based on Version 1.1.2 of the
OSF/Motif-based widget set which has the following components:
<ul>
<li>XMLIB TXTLIB (OSF/Motif-based widget set)
<li>Header files needed for compiling clients using the OSF/Motif-based widget
set.
</ul>
<p><a name=index1714>GDDMXD</a> is an interface to the Graphical Data Display
Manager/VM (GDDM/VM or GDDM/VMXA).  This interface permits graphics display
output from the IBM GDDM/VM to be displayed on workstations that support the X
Window System. The interface translates the data stream, created by GDDM, to
the X protocol, and transmits it by TCP/IP to the X server. If GDDMXD is
installed on your system, but is not active, GDDM transmits data as if the
interface were not present. The X GDDM interface should be installed by the
person responsible for installing GDDM, because the shared segment of GDDM
needs to be reinstalled during X GDDM interface installation. Please refer to
<i>IBM TCP/IP Version 2 Release 3 for VM: Planning and Customization</i> for
more details about the installation of the X GDDM interface, and to <i>IBM
TCP/IP Version 2 Release 3 for VM: Programmer's Reference</i> for more
programming considerations.
<p>No X server function is provided for VM users.

<h4><a name="H622">4.9.3.2  MVS</a>
</h4>
<p>The TCP/IP for MVS API is from the X Window System Version 11, Release 4 and
includes the following components:
<ul>
<li><i>tcpip</i>.SEZAX11L (Xlib, Xmu, Xext, and Xau routines).
<li><i>tcpip</i>.SEZAOLDX (X Release 10 compatibilty routines).
<li><i>tcpip</i>.SEZAXTLB (Xt Intrinsics).
<li><i>tcpip</i>.SEZAXAWL (Athena Widget set).
<li>Header files (H files) needed for compiling X clients.
<li>Standard MIT X clients.
<li>Sample X clients (Xlib sample program, Athena Widget set sample program,
OSF/Motif-based widget sample program).
</ul>
<p>In addition, it also includes an API based on Version 1.1.2 of the
OSF/Motif-based widget set which has the following components:
<ul>
<li><i>tcpip</i>.SEZAXMLB (OSF/Motif-based widget set)
<li>Header files needed for compiling clients using the OSF/Motif-based widget
set.
</ul>
<br><br><a name=fig>
<img src="3376f125.gif"></a>
<br><i>Figure: MVS X Window System Application to Server</i><br><br>
<p><a name=index1716>GDDMXD</a> is an interface that allows graphics from the
IBM Graphical Data Display Manager/MVS to be displayed on workstations that
support the X Window System.
<p>The interface translates the data stream, created by GDDM, to the X
protocol, and transmits it by TCP/IP to the X server. GDDMXD was implemented
such that existing GDDM applications can function as X Window clients without
modifications or relink.
<p>If the GDDMXD is installed on your system and not activated, or has been
made inactive, GDDM transmits data as if the interface were not present. Please
refer to <i>IBM TCP/IP Version 3 Release 1 for MVS: Customization and
Administration Guide</i> for more details about the installation of the GDDMXD
interface, and to <i>IBM TCP/IP Version 3 Release 1 for MVS: Programmer's
Reference</i> for more programming considerations.
<p>IBM TCP/IP for MVS supports the OpenEdition/MVS with the following set of
object libraries with the X Windows routines compiled with the C/370 RENT
compiler option (Reentrant):
<ul>
<li><i>tcpip.v3r1.</i>SEZAROE1
<li><i>tcpip.v3r1.</i>SEZAROE2
<li><i>tcpip.v3r1.</i>SEZAROE3
</ul>
<p>These libraries can be used as input for linking reentrant OpenEdition/MVS X
Windows applications.
<p>No X server function is provided for MVS users.

<h4><a name="H624">4.9.3.3  AIX/6000 V3.2.5</a>
</h4>
<p>Both a client and server X Window System is implemented by <i>AIXwindows
Environment/6000</i> Version 1.2.5.
<p>AIXwindows Environment/6000 Version 1.2.5 provides a graphical interface to
AIX/6000 V3.2.5. It is based on and compatible with the industry-accepted X
Window System and the OSF/Motif 1.2.2 graphical user interface. It can also
interact with other AIX and other equipment manufacturer systems implementing
the X Window System and OSF/Motif interfaces. AIXwindows Environment/6000
provides a sophisticated graphical desktop (AIXwindows Desktop) that can be
tailored for integrating and launching applications. AIXwindows
Environment/6000 provides the facilities to execute and develop X applications,
OSF/Motif applications or applications requiring Display PostScript support.
<p>If you require 3D capability, the AIXwindows/3D feature provides the
facilities for the development and execution of 3D applications using a variety
of industry standard APIs.  This includes hardware accelerated support for
PEXlib, graPHIGS and GL 3.2 as well as a pure software implementation of
OpenGL, PEXlib and graPHIGS, referred to as Softgraphics.  Softgraphics allows
all 3D functions to be performed by software where the graphics adapter is used
simply as a frame buffer to display the image. This implementation makes it
possible to run 3D applications on any 2D graphics adapter.

<h4><a name="H625">4.9.3.4  AIX/6000 Version 4.1.1</a>
</h4>
<p>AIX Version 4.1.1 contains the AIXwindows 2D environment, and this function
is loaded automatically at installation time upon detection of a supported
graphics card.  The AIXwindows 2D environment is based upon X11R5 and Motif
1.2.3.
<p>A new graphical user interface based on the Common Desktop Environment (CDE)
was added.

<h4><a name="H626">4.9.3.5  AIX/ESA</a>
</h4>
<p><i>AIXwindows Environment/ESA Version 1 Release 2</i> implements the X
Window System Version X11R5 and OSF/Motif Version 1.1.4 with single byte,
double byte, and multibyte data streams in which characters can be encoded up
to 4 bytes each. The code set support in AIX/ESA Version 2 Release 2 includes
the support of ISO 8859-1, ISO 8859-7 (Greek), ISO 8859-9 (Turkish), IBM PC
Code Page 850, IBM PC Code Page 932 (Shift-JIS), and IBM Japanese EUC (Extended
UNIX Code).
<p><i>AIXwindows Environment/ESA</i> provides the X Window System client
functions.

<h4><a name="H627">4.9.3.6  OS/2</a>
</h4>
<p>The X server function is available in the X Window Server Kit (PMX) of
TCP/IP V2.0 for OS/2 (X11R5).
<p>The X server function uses OS/2 PM as the X Window manager and supports all
the keyboard, display, and pointer functions that are supported by OS/2 PM.
Using PM as the X Window manager enables OS/2 PM windowed applications and X
client applications to share the same screen. As a result, X client
applications cannot act as the X Window manager for the OS/2 X server.
<p>The X client function is available in the X Window Client Kit of TCP/IP V2.0
for OS/2 (X11R5).
<p>Motif 1.2 function is available in the OSF/Motif Kit of TCP/IP V2.0 for
OS/2. The X Window Client Kit mentioned above is a prerequisite for the
OSF/Motif Kit.

<p><a href="./3376fm.html"><img src="fm2html-toc.gif">Table of Contents</a>  <a href="3376c410.html#rpc"><img src="fm2html-next.gif">Remote
Procedure Call (RPC)</a><br>
</html>
