<!-- output file generated by BM Utilities -->
<html>

<p><a href="./3376fm.html"><img src="fm2html-toc.gif">Table of Contents</a>  <a href="3376ch5.html#connect"><img src="fm2html-previous.gif">Connections</a><br>
<head>
<title>
TCP/IP Tutorial and Technical Overview
</title>
<body>

<h2><a name="3172">5.1  IBM 3172 Interconnect Controller</a>
</h2>
<p><a name=index1935>The</a> IBM 3172 Interconnect Controller can be configured
as a LAN gateway, an offload gateway or a remote channel-to-channel controller,
to provide high-performance interconnection from the S/370 and S/390 hosts to
the LAN environments.
<p>The following tables show the various connections supported by the three
models of the 3172.
<br><br><a name=fig>
<img src="3376f154.gif"></a>
<br><i>Figure: LAN Types Supported on the 3172 with Interconnect Control
Program (ICP)</i><br><br>
<br><br><a name=fig>
<img src="3376f155.gif"></a>
<br><i>Figure: LAN Types Supported on the 3172-3 with the Offload
Feature</i><br><br>
<br><b>Notes:</b>
<ol>
<li>ICP stands for the 3172 Interconnect Control Program Version 3.3 which runs
in the 3172 hardware.
<li>Offload stands for OS/2 V2.11, TCP/IP Version 2.0 for OS/2, and the 3172-3
Offload hardware feature.
<li>The 3172-1 and -3 connect to the host via either a parallel channel adapter
or an ESCON channel adapter.
<li>The 3172-2 connects to the host via a parallel channel adapter.
<li>The 3172 with ICP supports other host software, such as SNA VTAM, OSI/CS
and DECnet (please refer to the <i>IBM 3172 Planning Guide</i> for details).
</ol>
<p><a name=index1937>Both</a> the MVS and VM TCP/IP provide the SNMP subagent
functions for the 3172 running ICP. They also provide 3172-specific MIB
support.

<h3><a name="h3172cl">5.1.1  3172 TCP/IP Offload</a>
</h3>
<p>The 3172 Model 3 can be configured to provide an Offload function to the
TCP/IP for MVS Version 3.1. This function offloads some of the TCP/IP
processing from the MVS host to the 3172. The current estimates show that this
function can achieve 30% reduction in the host CPU cycles.
<p>This configuration of the 3172-3 requires OS/2 V2.11 (OS/2 SE V1.3.2 is also
supported, but OS/2 V2.11 is recommended), TCP/IP Version 2.0 for OS/2, the
TCP/IP MVS Offload feature, the 3172-3 Offload hardware feature and the
appropriate hardware adapters.
<p>The 3172-3 is channel-attached to the MVS host, using one subchannel pair.
The TCP/IP MVS offload processing uses <a name=index1939>the</a> CLAW (Common
Link Access for Workstation) protocol for communicating between the TCP/IP MVS
host and the 3172-3 Offload host. Two logical links are used over the
subchannel pair (please see <a href="3376c51.html#fig3172off">Figure - IBM
3172-3 Interconnect Controller</a>):
<ol>
<li>An <b>API link</b>
<p>All TCP, UDP and IP header processing for the data transferred to and from
the MVS host is performed in the 3172-3. The data is passed, via the API link,
directly to the API interface on the TCP/IP MVS host, bypassing the IP, TCP and
UDP layers on the TCP/IP MVS host.
<li>An <b>IP link</b>
<p>Other datagrams not destined for the MVS host are routed by the IP layer of
the TCP/IP MVS host over the IP link.
</ol>
<p>CLAW is designed to achieve two goals:
<ol>
<li>All 370 subchannels driven by CLAW should remain 100% busy for as long as
there is data transfer between the MVS host and the Offload host.
<li>No 370 I/O interrupts should occur as long as the TCP/IP address space is
not in an idle state.
</ol>
This implies that the MIH (Missing Interrupt Handler) must be disabled for the
subchannel pair used by the offload processing; otherwise, a channel interrupt
will cause the CLAW algorithm to fail.
<p>TCP/IP MVS creates and updates the routing table on the offload 3172-3 based
on its own routing table.
<p><b>Note:</b> Since the 3172-3 offload function handles all ICMP packets, it
responds to ICMP echo requests (from ping, for example) even if TCP/IP MVS is
not running.
<br><br><a name=fig3172off>
<img src="3376offl.gif"></a>
<br><i>Figure: IBM 3172-3 Interconnect Controller</i> - TCP/IP Offload
Processing.<br><br>
<p>For more details on TCP/IP Offload processing, please refer to the <i>IBM
TCP/IP Version 3 Release 1 for MVS: Offload of TCP/IP Processing</i>.

<p><a href="./3376fm.html"><img src="fm2html-toc.gif">Table of Contents</a>  <a href="3376c52.html#H799"><img src="fm2html-next.gif">HYPERchannel
Adapter</a><br>
</html>
