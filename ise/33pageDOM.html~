<html><head>

<hr>










<table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="1"><b>Page 1</b></a></font></td></tr></tbody></table><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 1285px; left: 129px;"><nobr>Document Object Model</nobr></div>
<div style="position: absolute; top: 1285px; left: 380px;"><nobr></nobr></div>
<div style="position: absolute; top: 1285px; left: 824px;"><nobr>1</nobr></div>
</span></font>
<font face="Times" size="6"><span style="font-size: 40px; font-family: Times;">
<div style="position: absolute; top: 281px; left: 222px;"><nobr><b>Document Object Model</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 28px; font-family: Times;">
<div style="position: absolute; top: 372px; left: 129px;"><nobr><b><b><span class="goohl0">DOM</span></b></b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 421px; left: 129px;"><nobr><b><span class="goohl0">DOM</span></b> is a programming interface that provides a way for the</nobr></div>
<div style="position: absolute; top: 445px; left: 129px;"><nobr>values and structure of an XML document to be accessed and</nobr></div>
<div style="position: absolute; top: 469px; left: 129px;"><nobr>manipulated.</nobr></div>
<div style="position: absolute; top: 535px; left: 129px;"><nobr><b>Tasks that can be performed with <b><span class="goohl0">DOM</span></b></b></nobr></div>
<div style="position: absolute; top: 573px; left: 129px;"><nobr>    Navigate an XML document's structure, which is a tree stored</nobr></div>
<div style="position: absolute; top: 601px; left: 156px;"><nobr>in memory.</nobr></div>
<div style="position: absolute; top: 639px; left: 129px;"><nobr>    Report the information found at the nodes of the XML tree.</nobr></div>
<div style="position: absolute; top: 681px; left: 129px;"><nobr>    Add, delete, or modify elements in the XML document.</nobr></div>
<div style="position: absolute; top: 751px; left: 129px;"><nobr><b><span class="goohl0">DOM</span></b> represents each node of the XML tree as an object with</nobr></div>
<div style="position: absolute; top: 775px; left: 129px;"><nobr>properties and behavior for processing the XML.</nobr></div>
<div style="position: absolute; top: 817px; left: 129px;"><nobr>The root of the tree is a Document object. Its children represent</nobr></div>
<div style="position: absolute; top: 841px; left: 129px;"><nobr>the entire XML document except the xml declaration.</nobr></div>
<div style="position: absolute; top: 883px; left: 129px;"><nobr>On the next page we consider a small XML document with</nobr></div>
<div style="position: absolute; top: 907px; left: 129px;"><nobr>comments, a processing instruction, a CDATA section, entity</nobr></div>
<div style="position: absolute; top: 931px; left: 129px;"><nobr>references, and a DOCTYPE&nbsp;declaration, in addition to its</nobr></div>
<div style="position: absolute; top: 955px; left: 129px;"><nobr>element tree.</nobr></div>
<div style="position: absolute; top: 997px; left: 129px;"><nobr>It is valid with respect to a DTD, named root.dtd.</nobr></div>
<div style="position: absolute; top: 1039px; left: 170px;"><nobr>&lt;!ELEMENT root (child*)&gt;</nobr></div>
<div style="position: absolute; top: 1067px; left: 170px;"><nobr>&lt;!ELEMENT child (name)&gt;</nobr></div>
<div style="position: absolute; top: 1096px; left: 170px;"><nobr>&lt;!ELEMENT name (#PCDATA)&gt;</nobr></div>
<div style="position: absolute; top: 1124px; left: 170px;"><nobr>&lt;!ATTLIST child position NMTOKEN #REQUIRED&gt;</nobr></div>
<div style="position: absolute; top: 1153px; left: 170px;"><nobr>&lt;!ENTITY last1 "Dover"&gt;</nobr></div>
<div style="position: absolute; top: 1181px; left: 170px;"><nobr>&lt;!ENTITY last2 "Reckonwith"&gt;</nobr></div>
</span></font>

<div style="position: absolute; top: 1363px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="2"><b>Page 2</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 2473px; left: 87px;"><nobr>2</nobr></div>
<div style="position: absolute; top: 2473px; left: 338px;"><nobr></nobr></div>
<div style="position: absolute; top: 2473px; left: 645px;"><nobr>Document Object Model</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 1501px; left: 87px;"><nobr><b>Example:  root.xml</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 1552px; left: 128px;"><nobr>&lt;?xml version="1.0" encoding="UTF-8"?&gt;</nobr></div>
<div style="position: absolute; top: 1582px; left: 128px;"><nobr>&lt;!DOCTYPE root SYSTEM "root.dtd"&gt;</nobr></div>
<div style="position: absolute; top: 1612px; left: 128px;"><nobr>&lt;!-- root.xml --&gt;</nobr></div>
<div style="position: absolute; top: 1642px; left: 128px;"><nobr>&lt;?DomParse usage="java DomParse root.xml"?&gt;</nobr></div>
<div style="position: absolute; top: 1672px; left: 128px;"><nobr>&lt;root&gt;</nobr></div>
<div style="position: absolute; top: 1702px; left: 148px;"><nobr>&lt;child position="first"&gt;</nobr></div>
<div style="position: absolute; top: 1732px; left: 174px;"><nobr>&lt;name&gt;Eileen &amp;last1;&lt;/name&gt;</nobr></div>
<div style="position: absolute; top: 1762px; left: 146px;"><nobr>&lt;/child&gt;</nobr></div>
<div style="position: absolute; top: 1792px; left: 150px;"><nobr>&lt;child position="second"&gt;</nobr></div>
<div style="position: absolute; top: 1822px; left: 173px;"><nobr>&lt;name&gt;&lt;![CDATA[&lt;&lt;&lt;Amanda&gt;&gt;&gt;]]&gt; &amp;last2;&lt;/name&gt;</nobr></div>
<div style="position: absolute; top: 1852px; left: 146px;"><nobr>&lt;/child&gt;</nobr></div>
<div style="position: absolute; top: 1882px; left: 128px;"><nobr>&lt;!-- Could be more children later. --&gt;</nobr></div>
<div style="position: absolute; top: 1912px; left: 128px;"><nobr>&lt;/root&gt;</nobr></div>
<div style="position: absolute; top: 1978px; left: 87px;"><nobr><b><span class="goohl0">DOM</span></b> imagines that this XML information has a document root</nobr></div>
<div style="position: absolute; top: 2002px; left: 87px;"><nobr>with four children:</nobr></div>
<div style="position: absolute; top: 2044px; left: 114px;"><nobr>1. A DOCTYPE declaration.</nobr></div>
<div style="position: absolute; top: 2086px; left: 114px;"><nobr>2. A comment.</nobr></div>
<div style="position: absolute; top: 2128px; left: 114px;"><nobr>3. A processing instruction, whose target is DomParse.</nobr></div>
<div style="position: absolute; top: 2170px; left: 114px;"><nobr>4. The root element of the document.</nobr></div>
<div style="position: absolute; top: 2212px; left: 87px;"><nobr>The second comment is a child of the root element.</nobr></div>
<div style="position: absolute; top: 2278px; left: 87px;"><nobr>To process this document tree, <b><span class="goohl0">DOM</span></b> provides names to</nobr></div>
<div style="position: absolute; top: 2302px; left: 87px;"><nobr>describe the different kinds of nodes that may appear in the</nobr></div>
<div style="position: absolute; top: 2326px; left: 87px;"><nobr>tree.</nobr></div>
<div style="position: absolute; top: 2368px; left: 87px;"><nobr>Java represents these various kinds of nodes using interfaces</nobr></div>
<div style="position: absolute; top: 2392px; left: 87px;"><nobr>and constants. The node interfaces are all subinterfaces of the</nobr></div>
<div style="position: absolute; top: 2416px; left: 87px;"><nobr>interface org.w3c.<b><span class="goohl0">dom</span></b>.Node.</nobr></div>
</span></font>

<div style="position: absolute; top: 2551px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="3"><b>Page 3</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 3661px; left: 129px;"><nobr>Document Object Model</nobr></div>
<div style="position: absolute; top: 3661px; left: 380px;"><nobr></nobr></div>
<div style="position: absolute; top: 3661px; left: 824px;"><nobr>3</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 28px; font-family: Times;">
<div style="position: absolute; top: 2661px; left: 129px;"><nobr><b>The Node Hierarchy</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 2710px; left: 129px;"><nobr>All of these interfaces are found in the package org.w3c.<b><span class="goohl0">dom</span></b>.</nobr></div>
<div style="position: absolute; top: 2752px; left: 183px;"><nobr>Node</nobr></div>
<div style="position: absolute; top: 2780px; left: 210px;"><nobr>|– Attr</nobr></div>
<div style="position: absolute; top: 2809px; left: 210px;"><nobr>|– Document</nobr></div>
<div style="position: absolute; top: 2837px; left: 210px;"><nobr>|– DocumentFragment</nobr></div>
<div style="position: absolute; top: 2866px; left: 210px;"><nobr>|– DocumentType</nobr></div>
<div style="position: absolute; top: 2894px; left: 210px;"><nobr>|– Entity</nobr></div>
<div style="position: absolute; top: 2923px; left: 210px;"><nobr>|– Element</nobr></div>
<div style="position: absolute; top: 2951px; left: 210px;"><nobr>|– EntityReference</nobr></div>
<div style="position: absolute; top: 2980px; left: 210px;"><nobr>|– Notation</nobr></div>
<div style="position: absolute; top: 3008px; left: 210px;"><nobr>|– ProcessingInstruction</nobr></div>
<div style="position: absolute; top: 3037px; left: 210px;"><nobr>|– CharacterData</nobr></div>
<div style="position: absolute; top: 3065px; left: 264px;"><nobr>|– Comment</nobr></div>
<div style="position: absolute; top: 3094px; left: 264px;"><nobr>|– Text</nobr></div>
<div style="position: absolute; top: 3122px; left: 318px;"><nobr>|– CDATASection</nobr></div>
<div style="position: absolute; top: 3188px; left: 129px;"><nobr>The interfaces inherit <b><span class="goohl1">methods</span></b> from the Node interface.</nobr></div>
<div style="position: absolute; top: 3212px; left: 129px;"><nobr>These <b><span class="goohl1">methods</span></b> allow us to navigate the document tree and</nobr></div>
<div style="position: absolute; top: 3236px; left: 129px;"><nobr>extract information from it.</nobr></div>
<div style="position: absolute; top: 3274px; left: 183px;"><nobr>String getNodeName()</nobr></div>
<div style="position: absolute; top: 3311px; left: 183px;"><nobr>String getNodeValue()</nobr></div>
<div style="position: absolute; top: 3349px; left: 183px;"><nobr><b>short </b>getNodeType()</nobr></div>
<div style="position: absolute; top: 3386px; left: 183px;"><nobr>Node getFirstChild()</nobr></div>
<div style="position: absolute; top: 3424px; left: 183px;"><nobr>Node getLastChild()</nobr></div>
<div style="position: absolute; top: 3461px; left: 183px;"><nobr>Node getNextSibling()</nobr></div>
<div style="position: absolute; top: 3499px; left: 183px;"><nobr>Node getPreviousSibling()</nobr></div>
<div style="position: absolute; top: 3536px; left: 183px;"><nobr>NodeList getChildNodes()</nobr></div>
<div style="position: absolute; top: 3574px; left: 183px;"><nobr>NamedNodeMap getAttributes()</nobr></div>
</span></font>

<div style="position: absolute; top: 3739px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="4"><b>Page 4</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 4849px; left: 87px;"><nobr>4</nobr></div>
<div style="position: absolute; top: 4849px; left: 338px;"><nobr></nobr></div>
<div style="position: absolute; top: 4849px; left: 645px;"><nobr>Document Object Model</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 3886px; left: 87px;"><nobr><b>Interface Names and Their Constants</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 3974px; left: 155px;"><nobr><b>Interface</b></nobr></div>
<div style="position: absolute; top: 3974px; left: 470px;"><nobr><b>Constant</b></nobr></div>
<div style="position: absolute; top: 3974px; left: 725px;"><nobr><b>short</b></nobr></div>
<div style="position: absolute; top: 4027px; left: 161px;"><nobr>Element</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 4027px; left: 441px;"><nobr>ELEMENT_NODE</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 4027px; left: 750px;"><nobr>1</nobr></div>
<div style="position: absolute; top: 4079px; left: 186px;"><nobr>Attr</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 4080px; left: 434px;"><nobr>ATTRIBUTE_NODE</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 4079px; left: 750px;"><nobr>2</nobr></div>
<div style="position: absolute; top: 4132px; left: 182px;"><nobr>Text</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 4132px; left: 464px;"><nobr>TEXT_NODE</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 4132px; left: 750px;"><nobr>3</nobr></div>
<div style="position: absolute; top: 4184px; left: 123px;"><nobr>CDATASection</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 4185px; left: 401px;"><nobr>CDATA_SECTION_NODE</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 4184px; left: 750px;"><nobr>4</nobr></div>
<div style="position: absolute; top: 4237px; left: 117px;"><nobr>EntityReference</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 4237px; left: 384px;"><nobr>ENTITY_REFERENCE_NODE</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 4237px; left: 750px;"><nobr>5</nobr></div>
<div style="position: absolute; top: 4289px; left: 176px;"><nobr>Entity</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 4290px; left: 455px;"><nobr>ENTITY_NODE</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 4289px; left: 750px;"><nobr>6</nobr></div>
<div style="position: absolute; top: 4342px; left: 87px;"><nobr>ProcessingInstruction</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 4342px; left: 341px;"><nobr>PROCESSING_INSTRUCTION_NODE</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 4342px; left: 750px;"><nobr>7</nobr></div>
<div style="position: absolute; top: 4394px; left: 152px;"><nobr>Comment</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 4395px; left: 435px;"><nobr>COMMENT_NODE</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 4394px; left: 750px;"><nobr>8</nobr></div>
<div style="position: absolute; top: 4447px; left: 150px;"><nobr>Document</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 4447px; left: 428px;"><nobr>DOCUMENT_NODE</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 4447px; left: 750px;"><nobr>9</nobr></div>
<div style="position: absolute; top: 4499px; left: 122px;"><nobr>DocumentType</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 4500px; left: 396px;"><nobr>DOCUMENT_TYPE_NODE</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 4499px; left: 743px;"><nobr>10</nobr></div>
<div style="position: absolute; top: 4552px; left: 98px;"><nobr>DocumentFragment</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 4552px; left: 365px;"><nobr>DOCUMENT_FRAGMENT_NODE</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 4552px; left: 743px;"><nobr>11</nobr></div>
<div style="position: absolute; top: 4604px; left: 159px;"><nobr>Notation</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 4605px; left: 435px;"><nobr>NOTATION_NODE</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 4604px; left: 743px;"><nobr>12</nobr></div>
<div style="position: absolute; top: 4699px; left: 87px;"><nobr>Normally we use the constants Node.ELEMENT_NODE and</nobr></div>
<div style="position: absolute; top: 4723px; left: 87px;"><nobr>Node.TEXT_NODE in place of the numeric values 1 and 3.</nobr></div>
</span></font>

<div style="position: absolute; top: 4927px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="5"><b>Page 5</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 6037px; left: 129px;"><nobr>Document Object Model</nobr></div>
<div style="position: absolute; top: 6037px; left: 380px;"><nobr></nobr></div>
<div style="position: absolute; top: 6037px; left: 824px;"><nobr>5</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 5056px; left: 129px;"><nobr><b>Node Interfaces, Their Names, and Their Values</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 5144px; left: 186px;"><nobr><b>Interface</b></nobr></div>
<div style="position: absolute; top: 5144px; left: 398px;"><nobr><b>nodeName()</b></nobr></div>
<div style="position: absolute; top: 5144px; left: 609px;"><nobr><b>nodeValue()</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 20px; font-family: Times;">
<div style="position: absolute; top: 5198px; left: 221px;"><nobr>Attr</nobr></div>
<div style="position: absolute; top: 5198px; left: 426px;"><nobr>Name of</nobr></div>
<div style="position: absolute; top: 5220px; left: 429px;"><nobr>attribute</nobr></div>
<div style="position: absolute; top: 5198px; left: 638px;"><nobr>Value of</nobr></div>
<div style="position: absolute; top: 5220px; left: 641px;"><nobr>attribute</nobr></div>
<div style="position: absolute; top: 5271px; left: 197px;"><nobr>Element</nobr></div>
<div style="position: absolute; top: 5271px; left: 417px;"><nobr>Tag name</nobr></div>
<div style="position: absolute; top: 5271px; left: 662px;"><nobr><b>null</b></nobr></div>
<div style="position: absolute; top: 5331px; left: 216px;"><nobr>Text</nobr></div>
<div style="position: absolute; top: 5322px; left: 417px;"><nobr>Content of</nobr></div>
<div style="position: absolute; top: 5345px; left: 422px;"><nobr>text node</nobr></div>
<div style="position: absolute; top: 5331px; left: 662px;"><nobr><b>null</b></nobr></div>
<div style="position: absolute; top: 5405px; left: 159px;"><nobr>CDATASection</nobr></div>
<div style="position: absolute; top: 5405px; left: 395px;"><nobr>#cdata-section</nobr></div>
<div style="position: absolute; top: 5396px; left: 629px;"><nobr>Content of</nobr></div>
<div style="position: absolute; top: 5418px; left: 602px;"><nobr>CDATA section</nobr></div>
<div style="position: absolute; top: 5483px; left: 156px;"><nobr>EntityReference</nobr></div>
<div style="position: absolute; top: 5460px; left: 426px;"><nobr>Name of</nobr></div>
<div style="position: absolute; top: 5483px; left: 443px;"><nobr>entity</nobr></div>
<div style="position: absolute; top: 5505px; left: 420px;"><nobr>reference</nobr></div>
<div style="position: absolute; top: 5487px; left: 662px;"><nobr><b>null</b></nobr></div>
<div style="position: absolute; top: 5556px; left: 210px;"><nobr>Entity</nobr></div>
<div style="position: absolute; top: 5556px; left: 410px;"><nobr>Entity name</nobr></div>
<div style="position: absolute; top: 5556px; left: 662px;"><nobr><b>null</b></nobr></div>
<div style="position: absolute; top: 5616px; left: 129px;"><nobr>ProcessingInstruction</nobr></div>
<div style="position: absolute; top: 5607px; left: 437px;"><nobr>Target</nobr></div>
<div style="position: absolute; top: 5607px; left: 612px;"><nobr>Entire content</nobr></div>
<div style="position: absolute; top: 5630px; left: 605px;"><nobr>excluding target</nobr></div>
<div style="position: absolute; top: 5690px; left: 188px;"><nobr>Comment</nobr></div>
<div style="position: absolute; top: 5681px; left: 416px;"><nobr>#comment</nobr></div>
<div style="position: absolute; top: 5681px; left: 629px;"><nobr>Content of</nobr></div>
<div style="position: absolute; top: 5703px; left: 633px;"><nobr>comment</nobr></div>
<div style="position: absolute; top: 5754px; left: 186px;"><nobr>Document</nobr></div>
<div style="position: absolute; top: 5754px; left: 413px;"><nobr>#document</nobr></div>
<div style="position: absolute; top: 5754px; left: 662px;"><nobr><b>null</b></nobr></div>
<div style="position: absolute; top: 5814px; left: 159px;"><nobr>DocumentType</nobr></div>
<div style="position: absolute; top: 5805px; left: 417px;"><nobr>Document</nobr></div>
<div style="position: absolute; top: 5828px; left: 414px;"><nobr>type name</nobr></div>
<div style="position: absolute; top: 5814px; left: 662px;"><nobr><b>null</b></nobr></div>
<div style="position: absolute; top: 5879px; left: 137px;"><nobr>DocumentFragment #document-fragment</nobr></div>
<div style="position: absolute; top: 5879px; left: 662px;"><nobr><b>null</b></nobr></div>
<div style="position: absolute; top: 5930px; left: 197px;"><nobr>Notation</nobr></div>
<div style="position: absolute; top: 5930px; left: 396px;"><nobr>Notation name</nobr></div>
<div style="position: absolute; top: 5930px; left: 662px;"><nobr><b>null</b></nobr></div>
</span></font>

<div style="position: absolute; top: 6115px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="6"><b>Page 6</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 7225px; left: 87px;"><nobr>6</nobr></div>
<div style="position: absolute; top: 7225px; left: 338px;"><nobr></nobr></div>
<div style="position: absolute; top: 7225px; left: 645px;"><nobr>Document Object Model</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 28px; font-family: Times;">
<div style="position: absolute; top: 6243px; left: 87px;"><nobr><b><b><span class="goohl1">Methods</span></b> for Inspecting <b><span class="goohl0">DOM</span></b> a Tree</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 6316px; left: 87px;"><nobr>Each of the twelve node interfaces inherits the <b><span class="goohl1">methods</span></b> from</nobr></div>
<div style="position: absolute; top: 6340px; left: 87px;"><nobr>the Node interface, even if they do not make sense for that</nobr></div>
<div style="position: absolute; top: 6364px; left: 87px;"><nobr>particular kind of node. The <b><span class="goohl1">methods</span></b> just return <b>null </b>in this case.</nobr></div>
<div style="position: absolute; top: 6406px; left: 87px;"><nobr>In addition each interface has additional <b><span class="goohl1">methods</span></b> that allow us to</nobr></div>
<div style="position: absolute; top: 6430px; left: 87px;"><nobr>inspect the nodes and values in the <b><span class="goohl0">DOM</span></b> tree.</nobr></div>
<div style="position: absolute; top: 6472px; left: 87px;"><nobr>Interfaces not mentioned here rely on inherited <b><span class="goohl1">methods</span></b> mostly.</nobr></div>
<div style="position: absolute; top: 6538px; left: 87px;"><nobr><b><b><span class="goohl1">Methods</span></b> in Element</b></nobr></div>
<div style="position: absolute; top: 6574px; left: 141px;"><nobr>String getTagName()</nobr></div>
<div style="position: absolute; top: 6610px; left: 141px;"><nobr>NamedNodeMap getAttributes()</nobr></div>
<div style="position: absolute; top: 6646px; left: 141px;"><nobr>String getAttribute(String name)</nobr></div>
<div style="position: absolute; top: 6682px; left: 141px;"><nobr>Attr getAttributeNode(String name)</nobr></div>
<div style="position: absolute; top: 6718px; left: 141px;"><nobr>NodeList getElementsByTagName(String name)</nobr></div>
<div style="position: absolute; top: 6754px; left: 141px;"><nobr><b>boolean </b>hasAttributes()</nobr></div>
<div style="position: absolute; top: 6790px; left: 141px;"><nobr><b>boolean </b>hasAttribute(String name)</nobr></div>
<div style="position: absolute; top: 6850px; left: 87px;"><nobr><b><b><span class="goohl1">Methods</span></b> in Attr</b></nobr></div>
<div style="position: absolute; top: 6886px; left: 141px;"><nobr>String getName()</nobr></div>
<div style="position: absolute; top: 6922px; left: 141px;"><nobr>String getValue()</nobr></div>
<div style="position: absolute; top: 6958px; left: 141px;"><nobr>Element getOwnerElement()</nobr></div>
<div style="position: absolute; top: 6994px; left: 114px;"><nobr>Although Attr is a subinterface of Node, these objects are not</nobr></div>
<div style="position: absolute; top: 7018px; left: 114px;"><nobr>actually child nodes of the element they describe and they</nobr></div>
<div style="position: absolute; top: 7042px; left: 114px;"><nobr>are not considered part of the <b><span class="goohl0">DOM</span></b> tree.</nobr></div>
<div style="position: absolute; top: 7075px; left: 114px;"><nobr>They have no parent or sibling nodes in the tree.</nobr></div>
<div style="position: absolute; top: 7108px; left: 114px;"><nobr>Attributes are thought of as properties of elements rather</nobr></div>
<div style="position: absolute; top: 7132px; left: 114px;"><nobr>than nodes themselves.</nobr></div>
<div style="position: absolute; top: 7165px; left: 114px;"><nobr>The value of an attribute may be a default value obtained from</nobr></div>
<div style="position: absolute; top: 7189px; left: 114px;"><nobr>a dtd.</nobr></div>
</span></font>

<div style="position: absolute; top: 7303px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="7"><b>Page 7</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 8413px; left: 129px;"><nobr>Document Object Model</nobr></div>
<div style="position: absolute; top: 8413px; left: 380px;"><nobr></nobr></div>
<div style="position: absolute; top: 8413px; left: 824px;"><nobr>7</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 7414px; left: 129px;"><nobr><b><b><span class="goohl1">Methods</span></b> In CharacterData</b></nobr></div>
<div style="position: absolute; top: 7442px; left: 291px;"><nobr>Inherited by Text, Comment, and CDATASection</nobr></div>
<div style="position: absolute; top: 7471px; left: 183px;"><nobr><b>int </b>getLength()</nobr></div>
<div style="position: absolute; top: 7507px; left: 183px;"><nobr>String getData()</nobr></div>
<div style="position: absolute; top: 7564px; left: 129px;"><nobr><b>Method in ProcessingInstruction</b></nobr></div>
<div style="position: absolute; top: 7597px; left: 183px;"><nobr>String getTarget()</nobr></div>
<div style="position: absolute; top: 7633px; left: 183px;"><nobr>String getData()</nobr></div>
<div style="position: absolute; top: 7690px; left: 129px;"><nobr><b><b><span class="goohl1">Methods</span></b> in DocumentType</b></nobr></div>
<div style="position: absolute; top: 7723px; left: 183px;"><nobr>String getName()</nobr></div>
<div style="position: absolute; top: 7723px; left: 453px;"><nobr>// name of DTD root</nobr></div>
<div style="position: absolute; top: 7759px; left: 183px;"><nobr>NamedNodeMap getEntities()</nobr></div>
<div style="position: absolute; top: 7759px; left: 561px;"><nobr>// only general entities</nobr></div>
<div style="position: absolute; top: 7795px; left: 183px;"><nobr>NamedNodeMap getNotations()</nobr></div>
<div style="position: absolute; top: 7831px; left: 183px;"><nobr>String getSystemId()</nobr></div>
<div style="position: absolute; top: 7867px; left: 183px;"><nobr>String getPublicId()</nobr></div>
<div style="position: absolute; top: 7903px; left: 156px;"><nobr>This node has no children, but <b><span class="goohl1">methods</span></b> allow us to fetch</nobr></div>
<div style="position: absolute; top: 7927px; left: 156px;"><nobr>entities and notations from the dtd it represents.</nobr></div>
<div style="position: absolute; top: 7984px; left: 129px;"><nobr><b><b><span class="goohl1">Methods</span></b> in NodeList</b></nobr></div>
<div style="position: absolute; top: 8017px; left: 183px;"><nobr><b>int </b>getLength()</nobr></div>
<div style="position: absolute; top: 8053px; left: 183px;"><nobr>Node item(<b>int </b>index)</nobr></div>
<div style="position: absolute; top: 8110px; left: 129px;"><nobr><b><b><span class="goohl1">Methods</span></b> in NamedNodeMap</b></nobr></div>
<div style="position: absolute; top: 8143px; left: 183px;"><nobr><b>int </b>getLength()</nobr></div>
<div style="position: absolute; top: 8179px; left: 183px;"><nobr>Node item(<b>int </b>index)</nobr></div>
<div style="position: absolute; top: 8215px; left: 183px;"><nobr>Node getNamedItem(String name)</nobr></div>
<div style="position: absolute; top: 8272px; left: 129px;"><nobr><b>Method in DocumentBuilderFactory</b></nobr></div>
<div style="position: absolute; top: 8305px; left: 183px;"><nobr>DocumentBuilder newDocumentBuilder()</nobr></div>
<div style="position: absolute; top: 8333px; left: 345px;"><nobr><b>throws </b>ParserConfigurationException</nobr></div>
</span></font>

<div style="position: absolute; top: 8491px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="8"><b>Page 8</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 9601px; left: 87px;"><nobr>8</nobr></div>
<div style="position: absolute; top: 9601px; left: 338px;"><nobr></nobr></div>
<div style="position: absolute; top: 9601px; left: 645px;"><nobr>Document Object Model</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 28px; font-family: Times;">
<div style="position: absolute; top: 8619px; left: 87px;"><nobr><b>Displaying a <b><span class="goohl0">DOM</span></b> Tree</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 8683px; left: 87px;"><nobr>In the next program we display the information uncovered in a</nobr></div>
<div style="position: absolute; top: 8707px; left: 87px;"><nobr><b><span class="goohl0">DOM</span></b> tree by using the interface <b><span class="goohl1">methods</span></b> to perform a depth-</nobr></div>
<div style="position: absolute; top: 8731px; left: 87px;"><nobr>first traversal of the tree.</nobr></div>
<div style="position: absolute; top: 8773px; left: 87px;"><nobr>At each node, pertinent information about its values and</nobr></div>
<div style="position: absolute; top: 8797px; left: 87px;"><nobr>content is printed. Since white space can be overlooked easily</nobr></div>
<div style="position: absolute; top: 8821px; left: 87px;"><nobr>in an XML tree, textual spaces in values and content are</nobr></div>
<div style="position: absolute; top: 8845px; left: 87px;"><nobr>converted to plus signs (+). In addition new line characters</nobr></div>
<div style="position: absolute; top: 8869px; left: 87px;"><nobr>become "[nl]" and tab characters become "[tab]".</nobr></div>
<div style="position: absolute; top: 8911px; left: 87px;"><nobr>In this first version, the parse is executed with default settings.</nobr></div>
<div style="position: absolute; top: 8935px; left: 87px;"><nobr>Afterward we consider changing some of the parser settings.</nobr></div>
<div style="position: absolute; top: 8977px; left: 87px;"><nobr>A parameter to the method traverse is used to provide</nobr></div>
<div style="position: absolute; top: 9001px; left: 87px;"><nobr>spaces so that the structure of the tree is shown by indenting.</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 28px; font-family: Times;">
<div style="position: absolute; top: 9066px; left: 87px;"><nobr><b>The Program: DomParse.java</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 9125px; left: 87px;"><nobr><b>import </b>javax.xml.parsers.DocumentBuilderFactory;</nobr></div>
<div style="position: absolute; top: 9152px; left: 87px;"><nobr><b>import </b>javax.xml.parsers.DocumentBuilder;</nobr></div>
<div style="position: absolute; top: 9179px; left: 87px;"><nobr><b>import </b>javax.xml.parsers.ParserConfigurationException;</nobr></div>
<div style="position: absolute; top: 9212px; left: 87px;"><nobr><b>import </b>org.xml.sax.SAXException;</nobr></div>
<div style="position: absolute; top: 9245px; left: 87px;"><nobr><b>import </b>org.w3c.<b><span class="goohl0">dom</span></b>.Node;</nobr></div>
<div style="position: absolute; top: 9271px; left: 87px;"><nobr><b>import </b>org.w3c.<b><span class="goohl0">dom</span></b>.Attr;</nobr></div>
<div style="position: absolute; top: 9296px; left: 87px;"><nobr><b>import </b>org.w3c.<b><span class="goohl0">dom</span></b>.CDATASection;</nobr></div>
<div style="position: absolute; top: 9322px; left: 87px;"><nobr><b>import </b>org.w3c.<b><span class="goohl0">dom</span></b>.Comment;</nobr></div>
<div style="position: absolute; top: 9347px; left: 87px;"><nobr><b>import </b>org.w3c.<b><span class="goohl0">dom</span></b>.Document;</nobr></div>
<div style="position: absolute; top: 9373px; left: 87px;"><nobr><b>import </b>org.w3c.<b><span class="goohl0">dom</span></b>.DocumentType;</nobr></div>
<div style="position: absolute; top: 9398px; left: 87px;"><nobr><b>import </b>org.w3c.<b><span class="goohl0">dom</span></b>.Element;</nobr></div>
<div style="position: absolute; top: 9424px; left: 87px;"><nobr><b>import </b>org.w3c.<b><span class="goohl0">dom</span></b>.NodeList;</nobr></div>
<div style="position: absolute; top: 9449px; left: 87px;"><nobr><b>import </b>org.w3c.<b><span class="goohl0">dom</span></b>.NamedNodeMap;</nobr></div>
<div style="position: absolute; top: 9475px; left: 87px;"><nobr><b>import </b>org.w3c.<b><span class="goohl0">dom</span></b>.ProcessingInstruction;</nobr></div>
<div style="position: absolute; top: 9500px; left: 87px;"><nobr><b>import </b>org.w3c.<b><span class="goohl0">dom</span></b>.Text;</nobr></div>
<div style="position: absolute; top: 9533px; left: 87px;"><nobr><b>import </b>java.io.*;</nobr></div>
</span></font>

<div style="position: absolute; top: 9679px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="9"><b>Page 9</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 10789px; left: 129px;"><nobr>Document Object Model</nobr></div>
<div style="position: absolute; top: 10789px; left: 380px;"><nobr></nobr></div>
<div style="position: absolute; top: 10789px; left: 824px;"><nobr>9</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 9799px; left: 129px;"><nobr><b>public class </b>DomParse</nobr></div>
<div style="position: absolute; top: 9823px; left: 129px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 9847px; left: 156px;"><nobr><b>public static void </b>main(String [] args)</nobr></div>
<div style="position: absolute; top: 9871px; left: 156px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 9895px; left: 183px;"><nobr><b>if </b>(args.length != 1)</nobr></div>
<div style="position: absolute; top: 9923px; left: 210px;"><nobr>System.out.println("Usage: java DomParse file.xml");</nobr></div>
<div style="position: absolute; top: 9956px; left: 183px;"><nobr><b>else</b></nobr></div>
<div style="position: absolute; top: 9980px; left: 183px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 10004px; left: 210px;"><nobr>File file = <b>new </b>File(args[0]);</nobr></div>
<div style="position: absolute; top: 10037px; left: 210px;"><nobr>DocumentBuilderFactory factory =</nobr></div>
<div style="position: absolute; top: 10064px; left: 291px;"><nobr>DocumentBuilderFactory.newInstance();</nobr></div>
<div style="position: absolute; top: 10088px; left: 210px;"><nobr><b>try</b></nobr></div>
<div style="position: absolute; top: 10112px; left: 210px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 10136px; left: 237px;"><nobr>DocumentBuilder builder =</nobr></div>
<div style="position: absolute; top: 10163px; left: 345px;"><nobr>factory.newDocumentBuilder();</nobr></div>
<div style="position: absolute; top: 10196px; left: 237px;"><nobr>builder.setErrorHandler(<b>new </b>MyErrorHandler());</nobr></div>
<div style="position: absolute; top: 10229px; left: 237px;"><nobr>Document doc = builder.parse(file);</nobr></div>
<div style="position: absolute; top: 10262px; left: 237px;"><nobr>traverse(doc, "");</nobr></div>
<div style="position: absolute; top: 10286px; left: 210px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 10310px; left: 210px;"><nobr><b>catch </b>(SAXException e)</nobr></div>
<div style="position: absolute; top: 10334px; left: 210px;"><nobr>{ System.out.println(e); }</nobr></div>
<div style="position: absolute; top: 10367px; left: 210px;"><nobr><b>catch </b>(ParserConfigurationException e)</nobr></div>
<div style="position: absolute; top: 10391px; left: 210px;"><nobr>{ System.out.println(e); }</nobr></div>
<div style="position: absolute; top: 10424px; left: 210px;"><nobr><b>catch </b>(IOException e)</nobr></div>
<div style="position: absolute; top: 10448px; left: 210px;"><nobr>{ System.out.println(e); }</nobr></div>
<div style="position: absolute; top: 10472px; left: 183px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 10496px; left: 156px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 10553px; left: 156px;"><nobr><b>static void </b>traverse(Node node, String indent)</nobr></div>
<div style="position: absolute; top: 10577px; left: 156px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 10601px; left: 183px;"><nobr><b>switch </b>(node.getNodeType())</nobr></div>
<div style="position: absolute; top: 10625px; left: 183px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 10649px; left: 210px;"><nobr><b>case </b>Node.DOCUMENT_NODE:</nobr></div>
<div style="position: absolute; top: 10673px; left: 210px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 10697px; left: 237px;"><nobr>System.out.println(indent + node.getNodeName());</nobr></div>
<div style="position: absolute; top: 10726px; left: 237px;"><nobr><b>break</b>;</nobr></div>
<div style="position: absolute; top: 10750px; left: 210px;"><nobr>}</nobr></div>
</span></font>

<div style="position: absolute; top: 10867px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="10"><b>Page 10</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 11977px; left: 87px;"><nobr>10</nobr></div>
<div style="position: absolute; top: 11977px; left: 338px;"><nobr></nobr></div>
<div style="position: absolute; top: 11977px; left: 645px;"><nobr>Document Object Model</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 10978px; left: 168px;"><nobr><b>case </b>Node.ELEMENT_NODE:</nobr></div>
<div style="position: absolute; top: 11002px; left: 168px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 11026px; left: 195px;"><nobr>Element elem = (Element)node;</nobr></div>
<div style="position: absolute; top: 11059px; left: 195px;"><nobr>System.out.println(indent + "ELEMENT: "</nobr></div>
<div style="position: absolute; top: 11087px; left: 519px;"><nobr>+ elem.getTagName());</nobr></div>
<div style="position: absolute; top: 11120px; left: 195px;"><nobr>NamedNodeMap nm = elem.getAttributes();</nobr></div>
<div style="position: absolute; top: 11153px; left: 195px;"><nobr><b>for </b>(<b>int </b>k=0; k&lt;nm.getLength(); k++)</nobr></div>
<div style="position: absolute; top: 11182px; left: 222px;"><nobr>traverse(nm.item(k), indent + "   ");</nobr></div>
<div style="position: absolute; top: 11215px; left: 195px;"><nobr><b>break</b>;</nobr></div>
<div style="position: absolute; top: 11239px; left: 168px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 11287px; left: 168px;"><nobr><b>case </b>Node.ATTRIBUTE_NODE:</nobr></div>
<div style="position: absolute; top: 11311px; left: 168px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 11335px; left: 195px;"><nobr>Attr at = (Attr)node;</nobr></div>
<div style="position: absolute; top: 11368px; left: 195px;"><nobr>System.out.println(indent + "ATTRIBUTE:&nbsp; " +</nobr></div>
<div style="position: absolute; top: 11396px; left: 276px;"><nobr>at.getName() + "=\"" + at.getValue() + "\"");</nobr></div>
<div style="position: absolute; top: 11425px; left: 195px;"><nobr><b>break</b>;</nobr></div>
<div style="position: absolute; top: 11449px; left: 168px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 11497px; left: 168px;"><nobr><b>case </b>Node.TEXT_NODE:</nobr></div>
<div style="position: absolute; top: 11521px; left: 168px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 11545px; left: 195px;"><nobr>Text tx = (Text)node;</nobr></div>
<div style="position: absolute; top: 11578px; left: 195px;"><nobr>System.out.println(indent + "TEXT (length=" +</nobr></div>
<div style="position: absolute; top: 11602px; left: 411px;"><nobr>tx.getLength() + ") \"" +</nobr></div>
<div style="position: absolute; top: 11626px; left: 411px;"><nobr>replace(tx.getData() + "\""));</nobr></div>
<div style="position: absolute; top: 11654px; left: 195px;"><nobr><b>break</b>;</nobr></div>
<div style="position: absolute; top: 11678px; left: 168px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 11726px; left: 168px;"><nobr><b>case </b>Node.COMMENT_NODE:</nobr></div>
<div style="position: absolute; top: 11750px; left: 168px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 11774px; left: 195px;"><nobr>Comment cm = (Comment)node;</nobr></div>
<div style="position: absolute; top: 11798px; left: 195px;"><nobr>System.out.println(indent + "COMMENT (length=" +</nobr></div>
<div style="position: absolute; top: 11822px; left: 411px;"><nobr>cm.getLength() + ") \"" +</nobr></div>
<div style="position: absolute; top: 11846px; left: 411px;"><nobr>replace(cm.getData() + "\""));</nobr></div>
<div style="position: absolute; top: 11870px; left: 195px;"><nobr><b>break</b>;</nobr></div>
<div style="position: absolute; top: 11894px; left: 168px;"><nobr>}</nobr></div>
</span></font>

<div style="position: absolute; top: 12055px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="11"><b>Page 11</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 13165px; left: 129px;"><nobr>Document Object Model</nobr></div>
<div style="position: absolute; top: 13165px; left: 380px;"><nobr></nobr></div>
<div style="position: absolute; top: 13165px; left: 816px;"><nobr>11</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 12166px; left: 210px;"><nobr><b>case </b>Node.CDATA_SECTION_NODE:</nobr></div>
<div style="position: absolute; top: 12190px; left: 210px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 12214px; left: 237px;"><nobr>CDATASection cds = (CDATASection)node;</nobr></div>
<div style="position: absolute; top: 12247px; left: 237px;"><nobr>System.out.println(indent + "CDATA SECTION (length="</nobr></div>
<div style="position: absolute; top: 12275px; left: 453px;"><nobr>+ cds.getLength() + ") \"" +</nobr></div>
<div style="position: absolute; top: 12304px; left: 453px;"><nobr>replace(cds.getData() + "\""));</nobr></div>
<div style="position: absolute; top: 12328px; left: 237px;"><nobr><b>break</b>;</nobr></div>
<div style="position: absolute; top: 12352px; left: 161px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 12400px; left: 210px;"><nobr><b>case </b>Node.PROCESSING_INSTRUCTION_NODE:</nobr></div>
<div style="position: absolute; top: 12424px; left: 210px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 12448px; left: 237px;"><nobr>ProcessingInstruction pi =</nobr></div>
<div style="position: absolute; top: 12472px; left: 453px;"><nobr>(ProcessingInstruction)node;</nobr></div>
<div style="position: absolute; top: 12505px; left: 237px;"><nobr>System.out.println(indent + "PI: target="</nobr></div>
<div style="position: absolute; top: 12532px; left: 561px;"><nobr>+  pi.getTarget());</nobr></div>
<div style="position: absolute; top: 12565px; left: 237px;"><nobr>System.out.println(indent + replace(pi.getData()));</nobr></div>
<div style="position: absolute; top: 12593px; left: 237px;"><nobr><b>break</b>;</nobr></div>
<div style="position: absolute; top: 12617px; left: 210px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 12665px; left: 210px;"><nobr><b>case </b>Node.DOCUMENT_TYPE_NODE:</nobr></div>
<div style="position: absolute; top: 12689px; left: 210px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 12713px; left: 237px;"><nobr>DocumentType dt = (DocumentType)node;</nobr></div>
<div style="position: absolute; top: 12746px; left: 237px;"><nobr>System.out.println(indent + "DOCUMENT_TYPE: "</nobr></div>
<div style="position: absolute; top: 12775px; left: 561px;"><nobr>+ dt.getName());</nobr></div>
<div style="position: absolute; top: 12799px; left: 237px;"><nobr><b>if </b>(dt.getPublicId() != <b>null</b>)</nobr></div>
<div style="position: absolute; top: 12827px; left: 291px;"><nobr>System.out.println(indent + "Public ID: "</nobr></div>
<div style="position: absolute; top: 12856px; left: 507px;"><nobr>+ dt.getPublicId());</nobr></div>
<div style="position: absolute; top: 12884px; left: 237px;"><nobr><b>if </b>(dt.getSystemId() != <b>null</b>)</nobr></div>
<div style="position: absolute; top: 12913px; left: 291px;"><nobr>System.out.println(indent + "System ID: "</nobr></div>
<div style="position: absolute; top: 12941px; left: 507px;"><nobr>+ dt.getSystemId());</nobr></div>
<div style="position: absolute; top: 12974px; left: 237px;"><nobr>NamedNodeMap entities = dt.getEntities();</nobr></div>
<div style="position: absolute; top: 13007px; left: 237px;"><nobr><b>for </b>(<b>int </b>k=0; k&lt;entities.getLength(); k++)</nobr></div>
<div style="position: absolute; top: 13036px; left: 291px;"><nobr>traverse(entities.item(k), indent + "  ");</nobr></div>
<div style="position: absolute; top: 13064px; left: 237px;"><nobr><b>break</b>;</nobr></div>
<div style="position: absolute; top: 13088px; left: 210px;"><nobr>}</nobr></div>
</span></font>

<div style="position: absolute; top: 13243px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="12"><b>Page 12</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 14353px; left: 87px;"><nobr>12</nobr></div>
<div style="position: absolute; top: 14353px; left: 338px;"><nobr></nobr></div>
<div style="position: absolute; top: 14353px; left: 645px;"><nobr>Document Object Model</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 13330px; left: 168px;"><nobr><b>case </b>Node.ENTITY_NODE:</nobr></div>
<div style="position: absolute; top: 13354px; left: 168px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 13387px; left: 195px;"><nobr>System.out.println(indent + "ENTITY: &nbsp;"</nobr></div>
<div style="position: absolute; top: 13415px; left: 411px;"><nobr>+ node.getNodeName());</nobr></div>
<div style="position: absolute; top: 13439px; left: 195px;"><nobr><b>break</b>;</nobr></div>
<div style="position: absolute; top: 13463px; left: 168px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 13511px; left: 168px;"><nobr><b>case </b>Node.ENTITY_REFERENCE_NODE:</nobr></div>
<div style="position: absolute; top: 13535px; left: 168px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 13568px; left: 195px;"><nobr>System.out.println(indent + "ENTITY REFERENCE:&nbsp; "</nobr></div>
<div style="position: absolute; top: 13597px; left: 411px;"><nobr>+ node.getNodeName());</nobr></div>
<div style="position: absolute; top: 13621px; left: 195px;"><nobr><b>break</b>;</nobr></div>
<div style="position: absolute; top: 13645px; left: 168px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 13669px; left: 141px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 13711px; left: 141px;"><nobr>NodeList list = node.getChildNodes();</nobr></div>
<div style="position: absolute; top: 13753px; left: 141px;"><nobr><b>for </b>(<b>int </b>k=0; k&lt;list.getLength(); k++)</nobr></div>
<div style="position: absolute; top: 13783px; left: 168px;"><nobr>traverse(list.item(k), indent + "   ");</nobr></div>
<div style="position: absolute; top: 13807px; left: 114px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 13864px; left: 114px;"><nobr><b>static </b>String replace(String s)</nobr></div>
<div style="position: absolute; top: 13888px; left: 114px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 13912px; left: 168px;"><nobr><b>if </b>(s != <b>null</b>)</nobr></div>
<div style="position: absolute; top: 13936px; left: 168px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 13960px; left: 209px;"><nobr>s = s.replaceAll(" ", "+");</nobr></div>
<div style="position: absolute; top: 13990px; left: 209px;"><nobr>s = s.replaceAll("\n", "[nl]");</nobr></div>
<div style="position: absolute; top: 14020px; left: 209px;"><nobr>s = s.replaceAll("\t", "[tab]");</nobr></div>
<div style="position: absolute; top: 14050px; left: 209px;"><nobr><b>return </b>s;</nobr></div>
<div style="position: absolute; top: 14074px; left: 168px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 14098px; left: 168px;"><nobr><b>return </b>"";</nobr></div>
<div style="position: absolute; top: 14122px; left: 114px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 14146px; left: 87px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 14203px; left: 87px;"><nobr>Observe that the ErrorHandler for the DocumentBuilder object</nobr></div>
<div style="position: absolute; top: 14227px; left: 87px;"><nobr>has been set in the same way as in DomCheck.java, but at this</nobr></div>
<div style="position: absolute; top: 14251px; left: 87px;"><nobr>point we have not requested validation of the XML document.</nobr></div>
<div style="position: absolute; top: 14293px; left: 87px;"><nobr>Next we execute the <b><span class="goohl0">DOM</span></b> parser using the XML document</nobr></div>
<div style="position: absolute; top: 14316px; left: 87px;"><nobr>root.xml.</nobr></div>
</span></font>

<div style="position: absolute; top: 14431px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="13"><b>Page 13</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 15541px; left: 129px;"><nobr>Document Object Model</nobr></div>
<div style="position: absolute; top: 15541px; left: 380px;"><nobr></nobr></div>
<div style="position: absolute; top: 15541px; left: 816px;"><nobr>13</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 14560px; left: 129px;"><nobr>% <b>java DomParse root.xml</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 14605px; left: 170px;"><nobr>#document</nobr></div>
<div style="position: absolute; top: 14633px; left: 189px;"><nobr>DOCUMENT_TYPE:&nbsp;root</nobr></div>
<div style="position: absolute; top: 14662px; left: 191px;"><nobr>System ID: root.dtd</nobr></div>
<div style="position: absolute; top: 14690px; left: 201px;"><nobr>ENTITY:&nbsp;last1</nobr></div>
<div style="position: absolute; top: 14719px; left: 223px;"><nobr>TEXT (length=5) "Dover"</nobr></div>
<div style="position: absolute; top: 14747px; left: 201px;"><nobr>ENTITY:&nbsp;last2</nobr></div>
<div style="position: absolute; top: 14776px; left: 222px;"><nobr>TEXT (length=10) "Reckonwith"</nobr></div>
<div style="position: absolute; top: 14804px; left: 189px;"><nobr>COMMENT (length=10) "+root.xml+"</nobr></div>
<div style="position: absolute; top: 14833px; left: 189px;"><nobr>PI: target=DomParse</nobr></div>
<div style="position: absolute; top: 14861px; left: 191px;"><nobr>usage="java+DomParser+root.xml"</nobr></div>
<div style="position: absolute; top: 14890px; left: 188px;"><nobr>ELEMENT: &nbsp;root</nobr></div>
<div style="position: absolute; top: 14918px; left: 207px;"><nobr>TEXT (length=4) "[nl]+++"</nobr></div>
<div style="position: absolute; top: 14947px; left: 205px;"><nobr>ELEMENT:&nbsp; child</nobr></div>
<div style="position: absolute; top: 14975px; left: 227px;"><nobr>ATTRIBUTE:&nbsp; position="first"</nobr></div>
<div style="position: absolute; top: 15004px; left: 247px;"><nobr>TEXT (length=5) "first"</nobr></div>
<div style="position: absolute; top: 15032px; left: 224px;"><nobr>TEXT (length=8) "[nl]+++++++"</nobr></div>
<div style="position: absolute; top: 15061px; left: 224px;"><nobr>ELEMENT:&nbsp;name</nobr></div>
<div style="position: absolute; top: 15089px; left: 248px;"><nobr>TEXT (length=12) "Eileen+ Dover"</nobr></div>
<div style="position: absolute; top: 15118px; left: 226px;"><nobr>TEXT (length=4) "[nl]+++"</nobr></div>
<div style="position: absolute; top: 15146px; left: 207px;"><nobr>TEXT (length=4) "[nl]+++"</nobr></div>
<div style="position: absolute; top: 15175px; left: 205px;"><nobr>ELEMENT:&nbsp;child</nobr></div>
<div style="position: absolute; top: 15203px; left: 229px;"><nobr>ATTRIBUTE:&nbsp;position="second"</nobr></div>
<div style="position: absolute; top: 15232px; left: 249px;"><nobr>TEXT (length=6) "second"</nobr></div>
<div style="position: absolute; top: 15260px; left: 224px;"><nobr>TEXT (length=8) "[nl]+++++++"</nobr></div>
<div style="position: absolute; top: 15289px; left: 224px;"><nobr>ELEMENT:&nbsp;name</nobr></div>
<div style="position: absolute; top: 15317px; left: 247px;"><nobr>CDATA SECTION  (length=12) "&lt;&lt;&lt;Amanda&gt;&gt;&gt;"</nobr></div>
<div style="position: absolute; top: 15346px; left: 247px;"><nobr>TEXT (length=11) "+Reckonwith"</nobr></div>
<div style="position: absolute; top: 15374px; left: 226px;"><nobr>TEXT (length=4) "[nl]+++"</nobr></div>
<div style="position: absolute; top: 15403px; left: 208px;"><nobr>TEXT (length=1) "[nl]"</nobr></div>
<div style="position: absolute; top: 15431px; left: 209px;"><nobr>COMMENT (length=31) "+Could+be+more+children+later.+"</nobr></div>
<div style="position: absolute; top: 15460px; left: 208px;"><nobr>TEXT (length=1) "[nl]"</nobr></div>
</span></font>

<div style="position: absolute; top: 15619px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="14"><b>Page 14</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 16729px; left: 87px;"><nobr>14</nobr></div>
<div style="position: absolute; top: 16729px; left: 338px;"><nobr></nobr></div>
<div style="position: absolute; top: 16729px; left: 645px;"><nobr>Document Object Model</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 15757px; left: 87px;"><nobr><b>Entity  References</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 15817px; left: 87px;"><nobr>Observe that no entity references appear in the output obtained</nobr></div>
<div style="position: absolute; top: 15841px; left: 87px;"><nobr>from parsing the XML document root.xml, which clearly contains</nobr></div>
<div style="position: absolute; top: 15865px; left: 87px;"><nobr>two entity references, &amp;last1; and &amp;last2;.</nobr></div>
<div style="position: absolute; top: 15931px; left: 87px;"><nobr>The DocumentBuilderFactory object that we created recognizes</nobr></div>
<div style="position: absolute; top: 15955px; left: 87px;"><nobr>a number of options that can be used to configure the parser.</nobr></div>
<div style="position: absolute; top: 15997px; left: 87px;"><nobr>These options are specified by six instance <b><span class="goohl1">methods</span></b></nobr></div>
<div style="position: absolute; top: 16021px; left: 87px;"><nobr>understood by a DocumentBuilderFactory object.</nobr></div>
<div style="position: absolute; top: 16063px; left: 141px;"><nobr><b>Instance Method</b></nobr></div>
<div style="position: absolute; top: 16063px; left: 573px;"><nobr><b>Default</b></nobr></div>
<div style="position: absolute; top: 16100px; left: 141px;"><nobr>setIgnoreElementContentWhitespace false</nobr></div>
<div style="position: absolute; top: 16138px; left: 141px;"><nobr>setValidating</nobr></div>
<div style="position: absolute; top: 16138px; left: 587px;"><nobr>false</nobr></div>
<div style="position: absolute; top: 16175px; left: 141px;"><nobr>setCoalescing</nobr></div>
<div style="position: absolute; top: 16175px; left: 587px;"><nobr>false</nobr></div>
<div style="position: absolute; top: 16213px; left: 141px;"><nobr>setExpandEntityReferences</nobr></div>
<div style="position: absolute; top: 16213px; left: 587px;"><nobr>true</nobr></div>
<div style="position: absolute; top: 16250px; left: 141px;"><nobr>setIgnoringComments</nobr></div>
<div style="position: absolute; top: 16250px; left: 587px;"><nobr>false</nobr></div>
<div style="position: absolute; top: 16288px; left: 141px;"><nobr>setNamespaceAware</nobr></div>
<div style="position: absolute; top: 16288px; left: 587px;"><nobr>false</nobr></div>
<div style="position: absolute; top: 16354px; left: 87px;"><nobr>To leave the entity references unresolved, add the following</nobr></div>
<div style="position: absolute; top: 16378px; left: 87px;"><nobr>code immediately after the factory is created.</nobr></div>
<div style="position: absolute; top: 16420px; left: 195px;"><nobr>factory.setExpandEntityReferences(<b>false</b>);</nobr></div>
<div style="position: absolute; top: 16486px; left: 87px;"><nobr>The tree starting with the first child element is show below. Now</nobr></div>
<div style="position: absolute; top: 16510px; left: 87px;"><nobr>the entity references appear. The value of the entity is shown</nobr></div>
<div style="position: absolute; top: 16534px; left: 87px;"><nobr>as a text node child of the entity reference.</nobr></div>
<div style="position: absolute; top: 16595px; left: 123px;"><nobr>ELEMENT:&nbsp;child</nobr></div>
<div style="position: absolute; top: 16619px; left: 145px;"><nobr>ATTRIBUTE: &nbsp;position="first"</nobr></div>
<div style="position: absolute; top: 16643px; left: 165px;"><nobr>TEXT (length=5) "first"</nobr></div>
<div style="position: absolute; top: 16667px; left: 142px;"><nobr>TEXT (length=8) "[nl]+++++++"</nobr></div>
</span></font>

<div style="position: absolute; top: 16807px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="15"><b>Page 15</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 17917px; left: 129px;"><nobr>Document Object Model</nobr></div>
<div style="position: absolute; top: 17917px; left: 380px;"><nobr></nobr></div>
<div style="position: absolute; top: 17917px; left: 816px;"><nobr>15</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 16918px; left: 178px;"><nobr>ELEMENT:&nbsp;name</nobr></div>
<div style="position: absolute; top: 16946px; left: 206px;"><nobr>TEXT (length=7) "Eileen+"</nobr></div>
<div style="position: absolute; top: 16975px; left: 203px;"><nobr>ENTITY REFERENCE:  last1</nobr></div>
<div style="position: absolute; top: 17003px; left: 227px;"><nobr>TEXT (length=5) "Dover"</nobr></div>
<div style="position: absolute; top: 17032px; left: 185px;"><nobr>TEXT (length=4) "[nl]+++"</nobr></div>
<div style="position: absolute; top: 17060px; left: 167px;"><nobr>TEXT (length=4) "[nl]+++"</nobr></div>
<div style="position: absolute; top: 17089px; left: 165px;"><nobr>ELEMENT:&nbsp;child</nobr></div>
<div style="position: absolute; top: 17117px; left: 188px;"><nobr>ATTRIBUTE:&nbsp;position="second"</nobr></div>
<div style="position: absolute; top: 17146px; left: 208px;"><nobr>TEXT (length=6) "second"</nobr></div>
<div style="position: absolute; top: 17174px; left: 184px;"><nobr>TEXT (length=8) "[nl]+++++++"</nobr></div>
<div style="position: absolute; top: 17203px; left: 184px;"><nobr>ELEMENT:&nbsp;name</nobr></div>
<div style="position: absolute; top: 17231px; left: 207px;"><nobr>CDATA SECTION (length=12) "&lt;&lt;&lt;Amanda&gt;&gt;&gt;"</nobr></div>
<div style="position: absolute; top: 17260px; left: 205px;"><nobr>TEXT (length=1) "+"</nobr></div>
<div style="position: absolute; top: 17288px; left: 203px;"><nobr>ENTITY REFERENCE:&nbsp;last2</nobr></div>
<div style="position: absolute; top: 17317px; left: 227px;"><nobr>TEXT (length=10) "Reckonwith"</nobr></div>
<div style="position: absolute; top: 17345px; left: 185px;"><nobr>TEXT (length=4) "[nl]+++"</nobr></div>
<div style="position: absolute; top: 17374px; left: 208px;"><nobr>TEXT (length=1) "[nl]"</nobr></div>
<div style="position: absolute; top: 17402px; left: 209px;"><nobr>COMMENT (length=31) "+Could+be+more+children+later.+"</nobr></div>
<div style="position: absolute; top: 17431px; left: 208px;"><nobr>TEXT (length=1) "[nl]"</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 17497px; left: 129px;"><nobr><b>Ignorable Whitespace</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 17551px; left: 129px;"><nobr>The white space characters that occur between different</nobr></div>
<div style="position: absolute; top: 17575px; left: 129px;"><nobr>element tags is known as ignorable whitespace.</nobr></div>
<div style="position: absolute; top: 17617px; left: 129px;"><nobr>Consider this fragment from root.xml.</nobr></div>
<div style="position: absolute; top: 17647px; left: 170px;"><nobr>&lt;root&gt;</nobr></div>
<div style="position: absolute; top: 17677px; left: 190px;"><nobr>&lt;child position="first"&gt;</nobr></div>
<div style="position: absolute; top: 17707px; left: 216px;"><nobr>&lt;name&gt;Eileen &amp;last1;&lt;/name&gt;</nobr></div>
<div style="position: absolute; top: 17737px; left: 188px;"><nobr>&lt;/child&gt;</nobr></div>
<div style="position: absolute; top: 17779px; left: 129px;"><nobr>The characters between &lt;root&gt; and &lt;child position="first"&gt; play</nobr></div>
<div style="position: absolute; top: 17803px; left: 129px;"><nobr>no significant role in the meaning of the document.</nobr></div>
<div style="position: absolute; top: 17845px; left: 129px;"><nobr>But the <b><span class="goohl0">DOM</span></b> parser preserves these characters by default.</nobr></div>
</span></font>

<div style="position: absolute; top: 17995px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="16"><b>Page 16</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 19105px; left: 87px;"><nobr>16</nobr></div>
<div style="position: absolute; top: 19105px; left: 338px;"><nobr></nobr></div>
<div style="position: absolute; top: 19105px; left: 645px;"><nobr>Document Object Model</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 18082px; left: 146px;"><nobr>ELEMENT:&nbsp;root</nobr></div>
<div style="position: absolute; top: 18110px; left: 165px;"><nobr>TEXT (length=4) "[nl]+++"</nobr></div>
<div style="position: absolute; top: 18139px; left: 163px;"><nobr>ELEMENT: &nbsp;child</nobr></div>
<div style="position: absolute; top: 18196px; left: 87px;"><nobr>To remove ignorable white space from the <b><span class="goohl0">DOM</span></b> tree, several</nobr></div>
<div style="position: absolute; top: 18220px; left: 87px;"><nobr>steps are required.</nobr></div>
<div style="position: absolute; top: 18262px; left: 87px;"><nobr>1. The XML document needs a DOCTYPE declaration that</nobr></div>
<div style="position: absolute; top: 18286px; left: 128px;"><nobr>specifies a dtd.</nobr></div>
<div style="position: absolute; top: 18328px; left: 87px;"><nobr>2. The factory needs to know that the parser to be created will</nobr></div>
<div style="position: absolute; top: 18352px; left: 128px;"><nobr>be a validating parser.</nobr></div>
<div style="position: absolute; top: 18385px; left: 195px;"><nobr>factory.setValidating(<b>true</b>);</nobr></div>
<div style="position: absolute; top: 18427px; left: 87px;"><nobr>3. The XML document must be valid with respect to the dtd.</nobr></div>
<div style="position: absolute; top: 18469px; left: 87px;"><nobr>4. The factory needs to know that the parser should ignore</nobr></div>
<div style="position: absolute; top: 18493px; left: 128px;"><nobr>these white space characters.</nobr></div>
<div style="position: absolute; top: 18526px; left: 195px;"><nobr>factory.setIgnoringElementContentWhitespace(<b>true</b>);</nobr></div>
<div style="position: absolute; top: 18577px; left: 87px;"><nobr>Now the <b><span class="goohl0">DOM</span></b> tree displayed by the parser shows none of this</nobr></div>
<div style="position: absolute; top: 18601px; left: 87px;"><nobr>extraneous white space.</nobr></div>
<div style="position: absolute; top: 18634px; left: 128px;"><nobr>#document</nobr></div>
<div style="position: absolute; top: 18662px; left: 147px;"><nobr>DOCUMENT_TYPE:&nbsp;root</nobr></div>
<div style="position: absolute; top: 18691px; left: 149px;"><nobr>System ID: root.dtd</nobr></div>
<div style="position: absolute; top: 18719px; left: 159px;"><nobr>ENTITY:&nbsp;last1</nobr></div>
<div style="position: absolute; top: 18748px; left: 181px;"><nobr>TEXT (length=5) "Dover"</nobr></div>
<div style="position: absolute; top: 18776px; left: 159px;"><nobr>ENTITY:&nbsp; last2</nobr></div>
<div style="position: absolute; top: 18805px; left: 180px;"><nobr>TEXT (length=10) "Reckonwith"</nobr></div>
<div style="position: absolute; top: 18833px; left: 147px;"><nobr>COMMENT (length=10) "+root.xml+"</nobr></div>
<div style="position: absolute; top: 18862px; left: 147px;"><nobr>PI: target=DomParse</nobr></div>
<div style="position: absolute; top: 18890px; left: 149px;"><nobr>usage="java+DomParser+root.xml"</nobr></div>
<div style="position: absolute; top: 18919px; left: 146px;"><nobr>ELEMENT: &nbsp;root</nobr></div>
<div style="position: absolute; top: 18947px; left: 163px;"><nobr>ELEMENT: &nbsp;child</nobr></div>
<div style="position: absolute; top: 18976px; left: 185px;"><nobr>ATTRIBUTE:&nbsp; position="first"</nobr></div>
<div style="position: absolute; top: 19004px; left: 205px;"><nobr>TEXT (length=5) "first"</nobr></div>
<div style="position: absolute; top: 19033px; left: 182px;"><nobr>ELEMENT: &nbsp;name</nobr></div>
<div style="position: absolute; top: 19061px; left: 206px;"><nobr>TEXT (length=12) "Eileen+Dover"</nobr></div>
</span></font>

<div style="position: absolute; top: 19183px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="17"><b>Page 17</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 20293px; left: 129px;"><nobr>Document Object Model</nobr></div>
<div style="position: absolute; top: 20293px; left: 380px;"><nobr></nobr></div>
<div style="position: absolute; top: 20293px; left: 816px;"><nobr>17</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 19303px; left: 205px;"><nobr>ELEMENT: &nbsp;child</nobr></div>
<div style="position: absolute; top: 19331px; left: 229px;"><nobr>ATTRIBUTE:&nbsp; position="second"</nobr></div>
<div style="position: absolute; top: 19360px; left: 249px;"><nobr>TEXT (length=6) "second"</nobr></div>
<div style="position: absolute; top: 19388px; left: 224px;"><nobr>ELEMENT: &nbsp;name</nobr></div>
<div style="position: absolute; top: 19417px; left: 247px;"><nobr>CDATA SECTION (length=12) "&lt;&lt;&lt;Amanda&gt;&gt;&gt;"</nobr></div>
<div style="position: absolute; top: 19445px; left: 247px;"><nobr>TEXT (length=11) "+Reckonwith"</nobr></div>
<div style="position: absolute; top: 19474px; left: 209px;"><nobr>COMMENT (length=31) "+Could+be+more+children+later.+"</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 19540px; left: 129px;"><nobr><b>Coalescing CDATA and Removing Comments</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 19585px; left: 129px;"><nobr>The last options we consider deal with the CDATA sections and</nobr></div>
<div style="position: absolute; top: 19609px; left: 129px;"><nobr>the comments in the XML document.</nobr></div>
<div style="position: absolute; top: 19651px; left: 129px;"><nobr>If we ask the factory object to build a parser that coalesces the</nobr></div>
<div style="position: absolute; top: 19675px; left: 129px;"><nobr>CDATA sections, then these sections will be merged with</nobr></div>
<div style="position: absolute; top: 19699px; left: 129px;"><nobr>adjacent text, either from text nodes or other CDATA sections.</nobr></div>
<div style="position: absolute; top: 19732px; left: 237px;"><nobr>factory.setCoalescing(<b>true</b>);</nobr></div>
<div style="position: absolute; top: 19774px; left: 129px;"><nobr>Finally, we can ask the parser to remove all comments in the</nobr></div>
<div style="position: absolute; top: 19798px; left: 129px;"><nobr>XML document.</nobr></div>
<div style="position: absolute; top: 19831px; left: 237px;"><nobr>factory.setIgnoringComments(<b>true</b>);</nobr></div>
<div style="position: absolute; top: 19897px; left: 129px;"><nobr><b>The Result</b></nobr></div>
<div style="position: absolute; top: 19939px; left: 170px;"><nobr>#document</nobr></div>
<div style="position: absolute; top: 19967px; left: 189px;"><nobr>DOCUMENT_TYPE: &nbsp;root</nobr></div>
<div style="position: absolute; top: 19996px; left: 191px;"><nobr>System ID: root.dtd</nobr></div>
<div style="position: absolute; top: 20024px; left: 201px;"><nobr>ENTITY: &nbsp;last1</nobr></div>
<div style="position: absolute; top: 20053px; left: 223px;"><nobr>TEXT (length=5) "Dover"</nobr></div>
<div style="position: absolute; top: 20081px; left: 201px;"><nobr>ENTITY: &nbsp;last2</nobr></div>
<div style="position: absolute; top: 20110px; left: 222px;"><nobr>TEXT (length=10) "Reckonwith"</nobr></div>
<div style="position: absolute; top: 20138px; left: 189px;"><nobr>PI: target=DomParse</nobr></div>
<div style="position: absolute; top: 20167px; left: 191px;"><nobr>usage="java+DomParser+root.xml"</nobr></div>
</span></font>

<div style="position: absolute; top: 20371px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="18"><b>Page 18</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 21481px; left: 87px;"><nobr>18</nobr></div>
<div style="position: absolute; top: 21481px; left: 338px;"><nobr></nobr></div>
<div style="position: absolute; top: 21481px; left: 645px;"><nobr>Document Object Model</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 20491px; left: 146px;"><nobr>ELEMENT: &nbsp;root</nobr></div>
<div style="position: absolute; top: 20519px; left: 163px;"><nobr>ELEMENT: &nbsp;child</nobr></div>
<div style="position: absolute; top: 20548px; left: 185px;"><nobr>ATTRIBUTE:&nbsp; position="first"</nobr></div>
<div style="position: absolute; top: 20576px; left: 205px;"><nobr>TEXT (length=5) "first"</nobr></div>
<div style="position: absolute; top: 20605px; left: 182px;"><nobr>ELEMENT: &nbsp;name</nobr></div>
<div style="position: absolute; top: 20633px; left: 206px;"><nobr>TEXT (length=12) "Eileen+Dover"</nobr></div>
<div style="position: absolute; top: 20662px; left: 163px;"><nobr>ELEMENT: &nbsp;child</nobr></div>
<div style="position: absolute; top: 20690px; left: 187px;"><nobr>ATTRIBUTE:&nbsp;position="second"</nobr></div>
<div style="position: absolute; top: 20719px; left: 207px;"><nobr>TEXT (length=6) "second"</nobr></div>
<div style="position: absolute; top: 20747px; left: 182px;"><nobr>ELEMENT: &nbsp;name</nobr></div>
<div style="position: absolute; top: 20776px; left: 205px;"><nobr>TEXT (length=23) "&lt;&lt;&lt;Amanda&gt;&gt;&gt;+Reckonwith"</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 28px; font-family: Times;">
<div style="position: absolute; top: 20859px; left: 87px;"><nobr><b>Extracting Information from an XML Document</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 20917px; left: 87px;"><nobr>Now we look at a series of programs that parse an XML</nobr></div>
<div style="position: absolute; top: 20941px; left: 87px;"><nobr>document and build Java objects with the information found.</nobr></div>
<div style="position: absolute; top: 20983px; left: 87px;"><nobr>The document is a variation of the phone listing we considered</nobr></div>
<div style="position: absolute; top: 21007px; left: 87px;"><nobr>earlier. One element can have an attribute and the city element</nobr></div>
<div style="position: absolute; top: 21031px; left: 87px;"><nobr>is optional in addition to the middle element.</nobr></div>
<div style="position: absolute; top: 21088px; left: 87px;"><nobr><b>DTD: phoneA.dtd</b></nobr></div>
<div style="position: absolute; top: 21130px; left: 128px;"><nobr>&lt;!ELEMENT phoneNumbers (title, entries)&gt;</nobr></div>
<div style="position: absolute; top: 21158px; left: 128px;"><nobr>&lt;!ELEMENT title (#PCDATA)&gt;</nobr></div>
<div style="position: absolute; top: 21187px; left: 128px;"><nobr>&lt;!ELEMENT entries (entry*)&gt;</nobr></div>
<div style="position: absolute; top: 21215px; left: 128px;"><nobr>&lt;!ELEMENT entry (name, phone, city?)&gt;</nobr></div>
<div style="position: absolute; top: 21244px; left: 128px;"><nobr>&lt;!ELEMENT name (first, middle?, last)&gt;</nobr></div>
<div style="position: absolute; top: 21272px; left: 128px;"><nobr>&lt;!ATTLIST name gender (female | male) #IMPLIED&gt;</nobr></div>
<div style="position: absolute; top: 21301px; left: 128px;"><nobr>&lt;!ELEMENT first (#PCDATA)&gt;</nobr></div>
<div style="position: absolute; top: 21329px; left: 128px;"><nobr>&lt;!ELEMENT middle (#PCDATA)&gt;</nobr></div>
<div style="position: absolute; top: 21358px; left: 128px;"><nobr>&lt;!ELEMENT last (#PCDATA)&gt;</nobr></div>
<div style="position: absolute; top: 21386px; left: 128px;"><nobr>&lt;!ELEMENT phone (#PCDATA)&gt;</nobr></div>
<div style="position: absolute; top: 21415px; left: 128px;"><nobr>&lt;!ELEMENT city (#PCDATA)&gt;</nobr></div>
</span></font>

<div style="position: absolute; top: 21559px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="19"><b>Page 19</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 22669px; left: 129px;"><nobr>Document Object Model</nobr></div>
<div style="position: absolute; top: 22669px; left: 380px;"><nobr></nobr></div>
<div style="position: absolute; top: 22669px; left: 816px;"><nobr>19</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 21706px; left: 129px;"><nobr><b>XML Document: phoneA.xml</b></nobr></div>
<div style="position: absolute; top: 21748px; left: 170px;"><nobr>&lt;?xml version="1.0" standalone="no"?&gt;</nobr></div>
<div style="position: absolute; top: 21775px; left: 170px;"><nobr>&lt;!DOCTYPE phoneNumbers SYSTEM "phoneA.dtd"&gt;</nobr></div>
<div style="position: absolute; top: 21802px; left: 170px;"><nobr>&lt;phoneNumbers&gt;</nobr></div>
<div style="position: absolute; top: 21829px; left: 191px;"><nobr>&lt;title&gt;Phone Numbers&lt;/title&gt;</nobr></div>
<div style="position: absolute; top: 21856px; left: 191px;"><nobr>&lt;entries&gt;</nobr></div>
<div style="position: absolute; top: 21883px; left: 203px;"><nobr>&lt;entry&gt;</nobr></div>
<div style="position: absolute; top: 21910px; left: 220px;"><nobr>&lt;name&gt;</nobr></div>
<div style="position: absolute; top: 21937px; left: 241px;"><nobr>&lt;first&gt;Rusty&lt;/first&gt;</nobr></div>
<div style="position: absolute; top: 21964px; left: 239px;"><nobr>&lt;last&gt;Nail&lt;/last&gt;</nobr></div>
<div style="position: absolute; top: 21991px; left: 220px;"><nobr>&lt;/name&gt;</nobr></div>
<div style="position: absolute; top: 22018px; left: 223px;"><nobr>&lt;phone&gt;335-0055&lt;/phone&gt;</nobr></div>
<div style="position: absolute; top: 22045px; left: 222px;"><nobr>&lt;city&gt;Iowa City&lt;/city&gt;</nobr></div>
<div style="position: absolute; top: 22072px; left: 202px;"><nobr>&lt;/entry&gt;</nobr></div>
<div style="position: absolute; top: 22099px; left: 203px;"><nobr>&lt;entry&gt;</nobr></div>
<div style="position: absolute; top: 22126px; left: 222px;"><nobr>&lt;name gender="male"&gt;</nobr></div>
<div style="position: absolute; top: 22153px; left: 240px;"><nobr>&lt;first&gt;Justin&lt;/first&gt;</nobr></div>
<div style="position: absolute; top: 22180px; left: 242px;"><nobr>&lt;last&gt;Case&lt;/last&gt;</nobr></div>
<div style="position: absolute; top: 22207px; left: 220px;"><nobr>&lt;/name&gt;</nobr></div>
<div style="position: absolute; top: 22234px; left: 223px;"><nobr>&lt;phone&gt;354-9876&lt;/phone&gt;</nobr></div>
<div style="position: absolute; top: 22261px; left: 222px;"><nobr>&lt;city&gt;Coralville&lt;/city&gt;</nobr></div>
<div style="position: absolute; top: 22288px; left: 202px;"><nobr>&lt;/entry&gt;</nobr></div>
<div style="position: absolute; top: 22315px; left: 203px;"><nobr>&lt;entry&gt;</nobr></div>
<div style="position: absolute; top: 22342px; left: 223px;"><nobr>&lt;name gender="female"&gt;</nobr></div>
<div style="position: absolute; top: 22369px; left: 239px;"><nobr>&lt;first&gt;Pearl&lt;/first&gt;</nobr></div>
<div style="position: absolute; top: 22396px; left: 238px;"><nobr>&lt;middle&gt;E.&lt;/middle&gt;</nobr></div>
<div style="position: absolute; top: 22423px; left: 242px;"><nobr>&lt;last&gt;Gates&lt;/last&gt;</nobr></div>
<div style="position: absolute; top: 22450px; left: 220px;"><nobr>&lt;/name&gt;</nobr></div>
<div style="position: absolute; top: 22477px; left: 223px;"><nobr>&lt;phone&gt;335-4582&lt;/phone&gt;</nobr></div>
<div style="position: absolute; top: 22504px; left: 222px;"><nobr>&lt;city&gt;North Liberty&lt;/city&gt;</nobr></div>
<div style="position: absolute; top: 22531px; left: 202px;"><nobr>&lt;/entry&gt;</nobr></div>
<div style="position: absolute; top: 22558px; left: 203px;"><nobr>&lt;entry&gt;</nobr></div>
<div style="position: absolute; top: 22585px; left: 223px;"><nobr>&lt;name gender="female"&gt;</nobr></div>
<div style="position: absolute; top: 22612px; left: 240px;"><nobr>&lt;first&gt;Helen&lt;/first&gt;</nobr></div>
</span></font>

<div style="position: absolute; top: 22747px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="20"><b>Page 20</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 23857px; left: 87px;"><nobr>20</nobr></div>
<div style="position: absolute; top: 23857px; left: 338px;"><nobr></nobr></div>
<div style="position: absolute; top: 23857px; left: 645px;"><nobr>Document Object Model</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 22834px; left: 198px;"><nobr>&lt;last&gt;Back&lt;/last&gt;</nobr></div>
<div style="position: absolute; top: 22861px; left: 178px;"><nobr>&lt;/name&gt;</nobr></div>
<div style="position: absolute; top: 22888px; left: 181px;"><nobr>&lt;phone&gt;337-5967&lt;/phone&gt;</nobr></div>
<div style="position: absolute; top: 22915px; left: 160px;"><nobr>&lt;/entry&gt;</nobr></div>
<div style="position: absolute; top: 22942px; left: 148px;"><nobr>&lt;/entries&gt;</nobr></div>
<div style="position: absolute; top: 22969px; left: 128px;"><nobr>&lt;/phoneNumbers&gt;</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 23035px; left: 87px;"><nobr><b>Java Classes</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 23080px; left: 87px;"><nobr>To build appropriate objects we need two classes to describe</nobr></div>
<div style="position: absolute; top: 23104px; left: 87px;"><nobr>the data in the XML document.</nobr></div>
<div style="position: absolute; top: 23170px; left: 128px;"><nobr><b>class </b>Entry</nobr></div>
<div style="position: absolute; top: 23194px; left: 128px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 23218px; left: 168px;"><nobr><b>private </b>Name name;</nobr></div>
<div style="position: absolute; top: 23242px; left: 168px;"><nobr><b>private </b>String gender, phone, city;</nobr></div>
<div style="position: absolute; top: 23290px; left: 168px;"><nobr>Entry(Name n, String g, String p, String c)</nobr></div>
<div style="position: absolute; top: 23314px; left: 168px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 23338px; left: 209px;"><nobr>name = n; </nobr></div>
<div style="position: absolute; top: 23338px; left: 357px;"><nobr>gender = g;</nobr></div>
<div style="position: absolute; top: 23362px; left: 209px;"><nobr>phone = p;  city = c;</nobr></div>
<div style="position: absolute; top: 23386px; left: 168px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 23434px; left: 168px;"><nobr>Entry(Name n, String p, String c)</nobr></div>
<div style="position: absolute; top: 23458px; left: 168px;"><nobr>{  <b>this</b>(n, <b>null</b>, p, c);  }</nobr></div>
<div style="position: absolute; top: 23506px; left: 168px;"><nobr>Entry(Name n, String p)</nobr></div>
<div style="position: absolute; top: 23530px; left: 168px;"><nobr>{  <b>this</b>(n, <b>null</b>, p, <b>null</b>);  }</nobr></div>
<div style="position: absolute; top: 23578px; left: 168px;"><nobr>Name getName()</nobr></div>
<div style="position: absolute; top: 23602px; left: 168px;"><nobr>{  <b>return </b>name;  }</nobr></div>
<div style="position: absolute; top: 23650px; left: 168px;"><nobr>String getGender()</nobr></div>
<div style="position: absolute; top: 23674px; left: 168px;"><nobr>{  <b>return </b>gender;  }</nobr></div>
<div style="position: absolute; top: 23722px; left: 168px;"><nobr>String getPhone()</nobr></div>
<div style="position: absolute; top: 23746px; left: 168px;"><nobr>{  <b>return </b>phone;  }</nobr></div>
<div style="position: absolute; top: 23794px; left: 168px;"><nobr>String getCity()</nobr></div>
<div style="position: absolute; top: 23818px; left: 168px;"><nobr>{  <b>return </b>city;  }</nobr></div>
</span></font>

<div style="position: absolute; top: 23935px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="21"><b>Page 21</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 25045px; left: 129px;"><nobr>Document Object Model</nobr></div>
<div style="position: absolute; top: 25045px; left: 380px;"><nobr></nobr></div>
<div style="position: absolute; top: 25045px; left: 816px;"><nobr>21</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 24022px; left: 210px;"><nobr><b>public </b>String toString()</nobr></div>
<div style="position: absolute; top: 24046px; left: 210px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 24070px; left: 251px;"><nobr><b>if </b>(gender != <b>null </b>&amp;&amp; gender.length() &gt; 0)</nobr></div>
<div style="position: absolute; top: 24094px; left: 291px;"><nobr>gender = "gender = " + gender + "\n";</nobr></div>
<div style="position: absolute; top: 24118px; left: 251px;"><nobr><b>else </b>gender = "";</nobr></div>
<div style="position: absolute; top: 24142px; left: 251px;"><nobr><b>if </b>(city != <b>null </b>&amp;&amp; city.length()&gt;0)</nobr></div>
<div style="position: absolute; top: 24166px; left: 291px;"><nobr>city = city + "\n";</nobr></div>
<div style="position: absolute; top: 24190px; left: 251px;"><nobr><b>else </b>city= "";</nobr></div>
<div style="position: absolute; top: 24214px; left: 251px;"><nobr><b>return </b>name + "\n" + gender + phone + "\n" + city;</nobr></div>
<div style="position: absolute; top: 24238px; left: 210px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 24262px; left: 170px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 24310px; left: 170px;"><nobr><b>class </b>Name</nobr></div>
<div style="position: absolute; top: 24334px; left: 170px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 24358px; left: 210px;"><nobr><b>private </b>String first, middle, last;</nobr></div>
<div style="position: absolute; top: 24400px; left: 210px;"><nobr>Name(String f, String m, String lt)</nobr></div>
<div style="position: absolute; top: 24424px; left: 210px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 24448px; left: 251px;"><nobr>first = f;  middle = m; l ast = lt;</nobr></div>
<div style="position: absolute; top: 24472px; left: 210px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 24514px; left: 210px;"><nobr>Name(String f, String lt)</nobr></div>
<div style="position: absolute; top: 24538px; left: 210px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 24562px; left: 251px;"><nobr><b>this</b>(f, <b>null</b>, lt);</nobr></div>
<div style="position: absolute; top: 24586px; left: 210px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 24628px; left: 210px;"><nobr>String getFirst()</nobr></div>
<div style="position: absolute; top: 24652px; left: 210px;"><nobr>{  <b>return </b>first;  }</nobr></div>
<div style="position: absolute; top: 24694px; left: 210px;"><nobr>String getMiddle()</nobr></div>
<div style="position: absolute; top: 24718px; left: 210px;"><nobr>{  <b>return </b>middle;  }</nobr></div>
<div style="position: absolute; top: 24760px; left: 210px;"><nobr>String getLast()</nobr></div>
<div style="position: absolute; top: 24784px; left: 210px;"><nobr>{  <b>return </b>last;  }</nobr></div>
<div style="position: absolute; top: 24826px; left: 210px;"><nobr><b>public </b>String toString()</nobr></div>
<div style="position: absolute; top: 24850px; left: 210px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 24874px; left: 251px;"><nobr><b>if </b>(middle == <b>null </b>|| middle.equals(""))</nobr></div>
<div style="position: absolute; top: 24898px; left: 291px;"><nobr><b>return </b>first + " " + last;</nobr></div>
<div style="position: absolute; top: 24922px; left: 251px;"><nobr><b>else</b></nobr></div>
<div style="position: absolute; top: 24946px; left: 291px;"><nobr><b>return </b>first + " " + middle + " " + last;</nobr></div>
<div style="position: absolute; top: 24970px; left: 210px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 24994px; left: 170px;"><nobr>}</nobr></div>
</span></font>

<div style="position: absolute; top: 25123px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="22"><b>Page 22</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 26233px; left: 87px;"><nobr>22</nobr></div>
<div style="position: absolute; top: 26233px; left: 338px;"><nobr></nobr></div>
<div style="position: absolute; top: 26233px; left: 645px;"><nobr>Document Object Model</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 25243px; left: 87px;"><nobr><b>Document</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 25288px; left: 87px;"><nobr>In these programs we use several instance <b><span class="goohl1">methods</span></b> belonging</nobr></div>
<div style="position: absolute; top: 25312px; left: 87px;"><nobr>to the Document interface. They are list below with a couple of</nobr></div>
<div style="position: absolute; top: 25336px; left: 87px;"><nobr>other useful <b><span class="goohl1">methods</span></b> from this interface.</nobr></div>
<div style="position: absolute; top: 25373px; left: 141px;"><nobr>Element getDocumentElement()</nobr></div>
<div style="position: absolute; top: 25411px; left: 141px;"><nobr>NodeList getElementsByTagName(String tag)</nobr></div>
<div style="position: absolute; top: 25448px; left: 141px;"><nobr>DocumentType getDocType()</nobr></div>
<div style="position: absolute; top: 25486px; left: 141px;"><nobr>DOMImplementation getImplementation()</nobr></div>
<div style="position: absolute; top: 25543px; left: 87px;"><nobr>The method getElementsByTagName returns all elements in the</nobr></div>
<div style="position: absolute; top: 25567px; left: 87px;"><nobr>entire document with that tag name.</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 28px; font-family: Times;">
<div style="position: absolute; top: 25641px; left: 87px;"><nobr><b>Version 1: PhoneParser.java</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 25690px; left: 87px;"><nobr>In this version we use a method getEntries to search the</nobr></div>
<div style="position: absolute; top: 25714px; left: 87px;"><nobr>grandchildren of the root element, looking for the entry</nobr></div>
<div style="position: absolute; top: 25738px; left: 87px;"><nobr>elements. Remember that this set of grandchildren includes a</nobr></div>
<div style="position: absolute; top: 25762px; left: 87px;"><nobr>number of nodes that consist of ignorable white space.</nobr></div>
<div style="position: absolute; top: 25804px; left: 87px;"><nobr>When we find an entry element, we call a method getEntry that</nobr></div>
<div style="position: absolute; top: 25828px; left: 87px;"><nobr>searches its children for name, phone, and city elements. This</nobr></div>
<div style="position: absolute; top: 25852px; left: 87px;"><nobr>method builds an Entry object with the data found.</nobr></div>
<div style="position: absolute; top: 25894px; left: 87px;"><nobr>When we find a name element, we call a method getName that</nobr></div>
<div style="position: absolute; top: 25918px; left: 87px;"><nobr>searches its children for first, middle, and last element and looks</nobr></div>
<div style="position: absolute; top: 25942px; left: 87px;"><nobr>for a possible gender attribute. This method builds a Name</nobr></div>
<div style="position: absolute; top: 25966px; left: 87px;"><nobr>object with the string values found.</nobr></div>
<div style="position: absolute; top: 26008px; left: 87px;"><nobr>The getEntries method builds an ArrayList of Entry objects.</nobr></div>
<div style="position: absolute; top: 26032px; left: 87px;"><nobr>Using the generics feature of Java 1.5, the ArrayList is declared</nobr></div>
<div style="position: absolute; top: 26056px; left: 87px;"><nobr>to hold only Entry objects using the syntax:</nobr></div>
<div style="position: absolute; top: 26093px; left: 303px;"><nobr>ArrayList&lt;Entry&gt;</nobr></div>
<div style="position: absolute; top: 26126px; left: 87px;"><nobr>When items are retrieved from this ArrayList, they are already</nobr></div>
<div style="position: absolute; top: 26150px; left: 87px;"><nobr>Entry objects and need no downcasting.</nobr></div>
</span></font>

<div style="position: absolute; top: 26311px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="23"><b>Page 23</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 27421px; left: 129px;"><nobr>Document Object Model</nobr></div>
<div style="position: absolute; top: 27421px; left: 380px;"><nobr></nobr></div>
<div style="position: absolute; top: 27421px; left: 816px;"><nobr>23</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 26416px; left: 129px;"><nobr><b>Part of phoneA.xml</b></nobr></div>
</span></font>

<div style="position: absolute; top: 27499px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="24"><b>Page 24</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 28609px; left: 87px;"><nobr>24</nobr></div>
<div style="position: absolute; top: 28609px; left: 338px;"><nobr></nobr></div>
<div style="position: absolute; top: 28609px; left: 645px;"><nobr>Document Object Model</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 27646px; left: 128px;"><nobr><b>import </b>javax.xml.parsers.DocumentBuilder;</nobr></div>
<div style="position: absolute; top: 27670px; left: 128px;"><nobr><b>import </b>javax.xml.parsers.DocumentBuilderFactory;</nobr></div>
<div style="position: absolute; top: 27694px; left: 128px;"><nobr><b>import </b>javax.xml.parsers.ParserConfigurationException;</nobr></div>
<div style="position: absolute; top: 27727px; left: 128px;"><nobr><b>import </b>org.w3c.<b><span class="goohl0">dom</span></b>.Node;</nobr></div>
<div style="position: absolute; top: 27751px; left: 128px;"><nobr><b>import </b>org.w3c.<b><span class="goohl0">dom</span></b>.Document;</nobr></div>
<div style="position: absolute; top: 27775px; left: 128px;"><nobr><b>import </b>org.w3c.<b><span class="goohl0">dom</span></b>.Element;</nobr></div>
<div style="position: absolute; top: 27799px; left: 128px;"><nobr><b>import </b>org.w3c.<b><span class="goohl0">dom</span></b>.Text;</nobr></div>
<div style="position: absolute; top: 27823px; left: 128px;"><nobr><b>import </b>org.w3c.<b><span class="goohl0">dom</span></b>.Attr;</nobr></div>
<div style="position: absolute; top: 27847px; left: 128px;"><nobr><b>import </b>org.w3c.<b><span class="goohl0">dom</span></b>.NodeList;</nobr></div>
<div style="position: absolute; top: 27880px; left: 128px;"><nobr><b>import </b>org.xml.sax.SAXException;</nobr></div>
<div style="position: absolute; top: 27913px; left: 128px;"><nobr><b>import </b>java.util.ArrayList;</nobr></div>
<div style="position: absolute; top: 27946px; left: 128px;"><nobr><b>import </b>java.io.*;</nobr></div>
<div style="position: absolute; top: 28003px; left: 128px;"><nobr><b>public class </b>PhoneParser</nobr></div>
<div style="position: absolute; top: 28027px; left: 128px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 28060px; left: 168px;"><nobr><b>private </b>DocumentBuilder builder;</nobr></div>
<div style="position: absolute; top: 28117px; left: 168px;"><nobr>PhoneParser() <b>throws </b>ParserConfigurationException</nobr></div>
<div style="position: absolute; top: 28141px; left: 168px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 28165px; left: 209px;"><nobr>DocumentBuilderFactory factory</nobr></div>
<div style="position: absolute; top: 28189px; left: 290px;"><nobr>= DocumentBuilderFactory.newInstance();</nobr></div>
<div style="position: absolute; top: 28222px; left: 209px;"><nobr>builder = factory.newDocumentBuilder();</nobr></div>
<div style="position: absolute; top: 28246px; left: 168px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 28312px; left: 168px;"><nobr>ArrayList&lt;Entry&gt; parse(String fileName)</nobr></div>
<div style="position: absolute; top: 28336px; left: 365px;"><nobr><b>throws </b>SAXException, IOException</nobr></div>
<div style="position: absolute; top: 28360px; left: 168px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 28384px; left: 209px;"><nobr>File f = <b>new </b>File(fileName);</nobr></div>
<div style="position: absolute; top: 28417px; left: 209px;"><nobr>Document doc = builder.parse(f);</nobr></div>
<div style="position: absolute; top: 28450px; left: 209px;"><nobr>Element root = doc.getDocumentElement();</nobr></div>
<div style="position: absolute; top: 28483px; left: 209px;"><nobr><b>return </b>getEntries(root);</nobr></div>
<div style="position: absolute; top: 28507px; left: 168px;"><nobr>}</nobr></div>
</span></font>

<div style="position: absolute; top: 28687px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="25"><b>Page 25</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 29797px; left: 129px;"><nobr>Document Object Model</nobr></div>
<div style="position: absolute; top: 29797px; left: 380px;"><nobr></nobr></div>
<div style="position: absolute; top: 29797px; left: 816px;"><nobr>25</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 28798px; left: 210px;"><nobr><b>private static </b>ArrayList&lt;Entry&gt; getEntries(Element e)</nobr></div>
<div style="position: absolute; top: 28822px; left: 210px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 28846px; left: 237px;"><nobr>ArrayList&lt;Entry&gt; entries = <b>new </b>ArrayList&lt;Entry&gt;();</nobr></div>
<div style="position: absolute; top: 28879px; left: 237px;"><nobr>NodeList children = e.getChildNodes();</nobr></div>
<div style="position: absolute; top: 28907px; left: 237px;"><nobr><b>for </b>(<b>int </b>k = 0; k &lt; children.getLength(); k++)</nobr></div>
<div style="position: absolute; top: 28931px; left: 237px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 28955px; left: 264px;"><nobr>Node childNode = children.item(k);</nobr></div>
<div style="position: absolute; top: 28984px; left: 264px;"><nobr>NodeList grandChildren =</nobr></div>
<div style="position: absolute; top: 29008px; left: 507px;"><nobr>childNode.getChildNodes();</nobr></div>
<div style="position: absolute; top: 29036px; left: 264px;"><nobr><b>for </b>(<b>int </b>m = 0; m &lt; grandChildren.getLength(); m++)</nobr></div>
<div style="position: absolute; top: 29065px; left: 264px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 29093px; left: 291px;"><nobr>Node grandChildNode = grandChildren.item(m);</nobr></div>
<div style="position: absolute; top: 29122px; left: 291px;"><nobr><b>if </b>(grandChildNode <b>instanceof </b>Element)</nobr></div>
<div style="position: absolute; top: 29146px; left: 291px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 29170px; left: 318px;"><nobr>Element element = (Element)grandChildNode;</nobr></div>
<div style="position: absolute; top: 29198px; left: 318px;"><nobr><b>if </b>(element.getTagName().equals("entry"))</nobr></div>
<div style="position: absolute; top: 29222px; left: 318px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 29246px; left: 345px;"><nobr>Entry c = getEntry(element);</nobr></div>
<div style="position: absolute; top: 29275px; left: 345px;"><nobr>entries.add(c);</nobr></div>
<div style="position: absolute; top: 29299px; left: 318px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 29323px; left: 291px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 29347px; left: 264px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 29371px; left: 237px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 29395px; left: 237px;"><nobr><b>return </b>entries;</nobr></div>
<div style="position: absolute; top: 29419px; left: 210px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 29485px; left: 210px;"><nobr><b>private static </b>Entry getEntry(Element e)</nobr></div>
<div style="position: absolute; top: 29509px; left: 210px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 29533px; left: 237px;"><nobr>Name name = <b>null</b>;</nobr></div>
<div style="position: absolute; top: 29561px; left: 237px;"><nobr>String gender = <b>null</b>, phone = <b>null</b>, city = <b>null</b>;</nobr></div>
<div style="position: absolute; top: 29590px; left: 237px;"><nobr>NodeList children = e.getChildNodes();</nobr></div>
<div style="position: absolute; top: 29618px; left: 237px;"><nobr><b>for </b>(<b>int </b>k = 0; k &lt; children.getLength(); k++)</nobr></div>
<div style="position: absolute; top: 29642px; left: 237px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 29666px; left: 264px;"><nobr>Node childNode = children.item(k);</nobr></div>
<div style="position: absolute; top: 29695px; left: 264px;"><nobr><b>if </b>(childNode <b>instanceof </b>Element)</nobr></div>
<div style="position: absolute; top: 29719px; left: 264px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 29743px; left: 291px;"><nobr>Element childElement = (Element)childNode;</nobr></div>
</span></font>

<div style="position: absolute; top: 29875px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="26"><b>Page 26</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 30985px; left: 87px;"><nobr>26</nobr></div>
<div style="position: absolute; top: 30985px; left: 338px;"><nobr></nobr></div>
<div style="position: absolute; top: 30985px; left: 645px;"><nobr>Document Object Model</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 29995px; left: 249px;"><nobr>String tagName = childElement.getTagName();</nobr></div>
<div style="position: absolute; top: 30023px; left: 249px;"><nobr><b>if </b>(tagName.equals("name"))</nobr></div>
<div style="position: absolute; top: 30047px; left: 249px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 30071px; left: 276px;"><nobr>name = getName(childElement);</nobr></div>
<div style="position: absolute; top: 30100px; left: 276px;"><nobr>gender = childElement.getAttribute("gender");</nobr></div>
<div style="position: absolute; top: 30124px; left: 249px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 30148px; left: 249px;"><nobr><b>else if </b>(tagName.equals("phone"))</nobr></div>
<div style="position: absolute; top: 30172px; left: 249px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 30196px; left: 276px;"><nobr>Text textNode =</nobr></div>
<div style="position: absolute; top: 30220px; left: 411px;"><nobr>(Text)childElement.getFirstChild();</nobr></div>
<div style="position: absolute; top: 30248px; left: 276px;"><nobr>phone = textNode.getData();</nobr></div>
<div style="position: absolute; top: 30272px; left: 249px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 30296px; left: 249px;"><nobr><b>else if </b>(tagName.equals("city"))</nobr></div>
<div style="position: absolute; top: 30320px; left: 249px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 30344px; left: 276px;"><nobr>Text textNode =</nobr></div>
<div style="position: absolute; top: 30368px; left: 411px;"><nobr>(Text)childElement.getFirstChild();</nobr></div>
<div style="position: absolute; top: 30397px; left: 276px;"><nobr>city = textNode.getData();</nobr></div>
<div style="position: absolute; top: 30421px; left: 249px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 30445px; left: 222px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 30469px; left: 195px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 30493px; left: 195px;"><nobr><b>return new </b>Entry(name, gender, phone, city);</nobr></div>
<div style="position: absolute; top: 30517px; left: 168px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 30583px; left: 168px;"><nobr><b>private static </b>Name getName(Element e)</nobr></div>
<div style="position: absolute; top: 30607px; left: 168px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 30631px; left: 195px;"><nobr>String first = <b>null</b>, middle = <b>null</b>, last = <b>null</b>;</nobr></div>
<div style="position: absolute; top: 30664px; left: 195px;"><nobr>NodeList children = e.getChildNodes();</nobr></div>
<div style="position: absolute; top: 30692px; left: 195px;"><nobr><b>for </b>(<b>int </b>k = 0; k &lt; children.getLength(); k++)</nobr></div>
<div style="position: absolute; top: 30716px; left: 195px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 30740px; left: 222px;"><nobr>Node childNode = children.item(k);</nobr></div>
<div style="position: absolute; top: 30769px; left: 222px;"><nobr><b>if </b>(childNode <b>instanceof </b>Element)</nobr></div>
<div style="position: absolute; top: 30793px; left: 222px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 30817px; left: 249px;"><nobr>Element childElement = (Element)childNode;</nobr></div>
<div style="position: absolute; top: 30845px; left: 249px;"><nobr>String tagName = childElement.getTagName();</nobr></div>
<div style="position: absolute; top: 30874px; left: 249px;"><nobr>Text textNode =</nobr></div>
<div style="position: absolute; top: 30898px; left: 411px;"><nobr>(Text)childElement.getFirstChild();</nobr></div>
<div style="position: absolute; top: 30926px; left: 249px;"><nobr>String data = textNode.getData();</nobr></div>
</span></font>

<div style="position: absolute; top: 31063px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="27"><b>Page 27</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 32173px; left: 129px;"><nobr>Document Object Model</nobr></div>
<div style="position: absolute; top: 32173px; left: 380px;"><nobr></nobr></div>
<div style="position: absolute; top: 32173px; left: 816px;"><nobr>27</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 31192px; left: 291px;"><nobr><b>if </b>(tagName.equals("first"))</nobr></div>
<div style="position: absolute; top: 31220px; left: 318px;"><nobr>first = data;</nobr></div>
<div style="position: absolute; top: 31249px; left: 291px;"><nobr><b>else if </b>(tagName.equals("middle"))</nobr></div>
<div style="position: absolute; top: 31277px; left: 318px;"><nobr>middle = data;</nobr></div>
<div style="position: absolute; top: 31306px; left: 291px;"><nobr><b>else if </b>(tagName.equals("last"))</nobr></div>
<div style="position: absolute; top: 31334px; left: 318px;"><nobr>last = data;</nobr></div>
<div style="position: absolute; top: 31358px; left: 264px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 31382px; left: 237px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 31406px; left: 237px;"><nobr><b>return new </b>Name(first, middle, last);</nobr></div>
<div style="position: absolute; top: 31430px; left: 210px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 31502px; left: 210px;"><nobr><b>public static void </b>main(String [] args) <b>throws </b>Exception</nobr></div>
<div style="position: absolute; top: 31526px; left: 210px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 31550px; left: 237px;"><nobr>PhoneParser parser = <b>new </b>PhoneParser();</nobr></div>
<div style="position: absolute; top: 31583px; left: 237px;"><nobr>ArrayList&lt;Entry&gt; entries = parser.parse("phoneA.xml");</nobr></div>
<div style="position: absolute; top: 31616px; left: 237px;"><nobr><b>for </b>(<b>int </b>k = 0; k &lt; entries.size(); k++)</nobr></div>
<div style="position: absolute; top: 31640px; left: 237px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 31664px; left: 264px;"><nobr>Entry anEntry = entries.get(k);</nobr></div>
<div style="position: absolute; top: 31693px; left: 264px;"><nobr>System.out.println(anEntry);</nobr></div>
<div style="position: absolute; top: 31717px; left: 237px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 31741px; left: 210px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 31765px; left: 170px;"><nobr>}</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 31849px; left: 129px;"><nobr><b>Alternative for Command (Java 1.5)</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 31894px; left: 129px;"><nobr>In addition to the generic collection types, Java 1.5 has a new</nobr></div>
<div style="position: absolute; top: 31918px; left: 129px;"><nobr>version of the&nbsp;<b>for </b>command. Replace the for-loop in the main</nobr></div>
<div style="position: absolute; top: 31942px; left: 129px;"><nobr>method with the code:</nobr></div>
<div style="position: absolute; top: 31984px; left: 237px;"><nobr><b>for </b>(Entry anEntry : entries)</nobr></div>
<div style="position: absolute; top: 32014px; left: 264px;"><nobr>System.out.println(anEntry);</nobr></div>
<div style="position: absolute; top: 32065px; left: 129px;"><nobr>Restriction: The loop variable, anEntry in this case, is read-only</nobr></div>
<div style="position: absolute; top: 32089px; left: 264px;"><nobr>(an R-value, not an L-value).</nobr></div>
</span></font>

<div style="position: absolute; top: 32251px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="28"><b>Page 28</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 33361px; left: 87px;"><nobr>28</nobr></div>
<div style="position: absolute; top: 33361px; left: 338px;"><nobr></nobr></div>
<div style="position: absolute; top: 33361px; left: 645px;"><nobr>Document Object Model</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 32398px; left: 87px;"><nobr><b>Output</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 32452px; left: 87px;"><nobr>The Entry and Name objects each have a toString method for</nobr></div>
<div style="position: absolute; top: 32476px; left: 87px;"><nobr>the purpose of output.</nobr></div>
<div style="position: absolute; top: 32533px; left: 128px;"><nobr>% <b>java PhoneParser</b></nobr></div>
<div style="position: absolute; top: 32560px; left: 128px;"><nobr>Rusty Nail</nobr></div>
<div style="position: absolute; top: 32587px; left: 128px;"><nobr>335-0055</nobr></div>
<div style="position: absolute; top: 32614px; left: 128px;"><nobr>Iowa City</nobr></div>
<div style="position: absolute; top: 32668px; left: 128px;"><nobr>Justin Case</nobr></div>
<div style="position: absolute; top: 32695px; left: 128px;"><nobr>gender = male</nobr></div>
<div style="position: absolute; top: 32722px; left: 128px;"><nobr>354-9876</nobr></div>
<div style="position: absolute; top: 32749px; left: 128px;"><nobr>Coralville</nobr></div>
<div style="position: absolute; top: 32803px; left: 128px;"><nobr>Pearl E. Gates</nobr></div>
<div style="position: absolute; top: 32830px; left: 128px;"><nobr>gender = female</nobr></div>
<div style="position: absolute; top: 32857px; left: 128px;"><nobr>335-4582</nobr></div>
<div style="position: absolute; top: 32884px; left: 128px;"><nobr>North Liberty</nobr></div>
<div style="position: absolute; top: 32938px; left: 128px;"><nobr>Helen Back</nobr></div>
<div style="position: absolute; top: 32965px; left: 128px;"><nobr>gender = female</nobr></div>
<div style="position: absolute; top: 32992px; left: 128px;"><nobr>337-5967</nobr></div>
</span></font>

<div style="position: absolute; top: 33439px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="29"><b>Page 29</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 34549px; left: 129px;"><nobr>Document Object Model</nobr></div>
<div style="position: absolute; top: 34549px; left: 380px;"><nobr></nobr></div>
<div style="position: absolute; top: 34549px; left: 816px;"><nobr>29</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 28px; font-family: Times;">
<div style="position: absolute; top: 33561px; left: 129px;"><nobr><b>Version 2: TagPhoneParser.java</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 33619px; left: 129px;"><nobr>In this version we use the method getElementsByTagName to</nobr></div>
<div style="position: absolute; top: 33643px; left: 129px;"><nobr>combine the parse and the getEntries <b><span class="goohl1">methods</span></b> into one</nobr></div>
<div style="position: absolute; top: 33667px; left: 129px;"><nobr>method.</nobr></div>
<div style="position: absolute; top: 33709px; left: 129px;"><nobr>We no longer have to worry about children and grandchildren</nobr></div>
<div style="position: absolute; top: 33733px; left: 129px;"><nobr>because we can select all of the entry nodes from the tree in</nobr></div>
<div style="position: absolute; top: 33757px; left: 129px;"><nobr>one step.</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 33823px; left: 129px;"><nobr><b>New parse Method (incorporating getEntries)</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 33877px; left: 210px;"><nobr>ArrayList&lt;Entry&gt;&nbsp;parse(String fileName)</nobr></div>
<div style="position: absolute; top: 33901px; left: 426px;"><nobr><b>throws </b>SAXException, IOException</nobr></div>
<div style="position: absolute; top: 33925px; left: 210px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 33949px; left: 251px;"><nobr>File f = <b>new </b>File(fileName);</nobr></div>
<div style="position: absolute; top: 33982px; left: 251px;"><nobr>Document doc = builder.parse(f);</nobr></div>
<div style="position: absolute; top: 34015px; left: 251px;"><nobr>Element root = doc.getDocumentElement();</nobr></div>
<div style="position: absolute; top: 34048px; left: 251px;"><nobr>ArrayList&lt;Entry&gt; entries = <b>new </b>ArrayList&lt;Entry&gt;();</nobr></div>
<div style="position: absolute; top: 34099px; left: 251px;"><nobr>NodeList entryNodes =</nobr></div>
<div style="position: absolute; top: 34123px; left: 399px;"><nobr>root.getElementsByTagName("entry");</nobr></div>
<div style="position: absolute; top: 34156px; left: 251px;"><nobr><b>for </b>(<b>int </b>k = 0; k &lt; entryNodes.getLength(); k++)</nobr></div>
<div style="position: absolute; top: 34180px; left: 251px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 34204px; left: 291px;"><nobr>Element element = (Element)entryNodes.item(k);</nobr></div>
<div style="position: absolute; top: 34237px; left: 291px;"><nobr>Entry c = getEntry(element);</nobr></div>
<div style="position: absolute; top: 34270px; left: 291px;"><nobr>entries.add(c);</nobr></div>
<div style="position: absolute; top: 34294px; left: 251px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 34318px; left: 251px;"><nobr><b>return </b>entries;</nobr></div>
<div style="position: absolute; top: 34342px; left: 210px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 34408px; left: 129px;"><nobr>The output from this version is identical to that from version 1.</nobr></div>
</span></font>

<div style="position: absolute; top: 34627px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="30"><b>Page 30</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 35737px; left: 87px;"><nobr>30</nobr></div>
<div style="position: absolute; top: 35737px; left: 338px;"><nobr></nobr></div>
<div style="position: absolute; top: 35737px; left: 645px;"><nobr>Document Object Model</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 28px; font-family: Times;">
<div style="position: absolute; top: 34773px; left: 87px;"><nobr><b>Version 3: VPhoneParser.java</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 34831px; left: 87px;"><nobr>In this version we eliminate the ignorable white space and</nobr></div>
<div style="position: absolute; top: 34855px; left: 87px;"><nobr>comments so that the only descendants of the entries node</nobr></div>
<div style="position: absolute; top: 34879px; left: 87px;"><nobr>are element nodes.</nobr></div>
<div style="position: absolute; top: 34921px; left: 87px;"><nobr>Then we know the second child of phoneNumbers is entries, the</nobr></div>
<div style="position: absolute; top: 34945px; left: 87px;"><nobr>only children of entries are entry nodes, the children of each</nobr></div>
<div style="position: absolute; top: 34968px; left: 87px;"><nobr>entry are name, phone, and city, in that order, and the children of</nobr></div>
<div style="position: absolute; top: 34992px; left: 87px;"><nobr>name are first, middle, and last.</nobr></div>
<div style="position: absolute; top: 35035px; left: 87px;"><nobr>These assumptions reduce the complexity of the code</nobr></div>
<div style="position: absolute; top: 35059px; left: 87px;"><nobr>significantly.</nobr></div>
<div style="position: absolute; top: 35101px; left: 87px;"><nobr>We show only those <b><span class="goohl1">methods</span></b> that change.</nobr></div>
<div style="position: absolute; top: 35167px; left: 128px;"><nobr>VPhoneParser() <b>throws </b>ParserConfigurationException</nobr></div>
<div style="position: absolute; top: 35191px; left: 133px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 35215px; left: 168px;"><nobr>DocumentBuilderFactory factory</nobr></div>
<div style="position: absolute; top: 35239px; left: 298px;"><nobr>= DocumentBuilderFactory.newInstance();</nobr></div>
<div style="position: absolute; top: 35269px; left: 168px;"><nobr>factory.setIgnoringElementContentWhitespace(<b>true</b>);</nobr></div>
<div style="position: absolute; top: 35299px; left: 168px;"><nobr>factory.setValidating(<b>true</b>);</nobr></div>
<div style="position: absolute; top: 35329px; left: 168px;"><nobr>factory.setIgnoringComments(<b>true</b>);</nobr></div>
<div style="position: absolute; top: 35371px; left: 168px;"><nobr>builder = factory.newDocumentBuilder();</nobr></div>
<div style="position: absolute; top: 35395px; left: 128px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 35443px; left: 128px;"><nobr>ArrayList&lt;Entry&gt;&nbsp;parse(String fileName)</nobr></div>
<div style="position: absolute; top: 35467px; left: 357px;"><nobr><b>throws </b>SAXException, IOException</nobr></div>
<div style="position: absolute; top: 35491px; left: 128px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 35515px; left: 168px;"><nobr>File f = new File(fileName);</nobr></div>
<div style="position: absolute; top: 35545px; left: 168px;"><nobr>Document doc = builder.parse(f);</nobr></div>
<div style="position: absolute; top: 35575px; left: 168px;"><nobr>Element root = doc.getDocumentElement();</nobr></div>
<div style="position: absolute; top: 35605px; left: 168px;"><nobr><b>return </b>getEntries(root);</nobr></div>
<div style="position: absolute; top: 35629px; left: 128px;"><nobr>}</nobr></div>
</span></font>

<div style="position: absolute; top: 35815px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="31"><b>Page 31</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 36925px; left: 129px;"><nobr>Document Object Model</nobr></div>
<div style="position: absolute; top: 36925px; left: 380px;"><nobr></nobr></div>
<div style="position: absolute; top: 36925px; left: 816px;"><nobr>31</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 35935px; left: 170px;"><nobr><b>private static </b>ArrayList&lt;Entry&gt; getEntries(Element e)</nobr></div>
<div style="position: absolute; top: 35959px; left: 170px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 35983px; left: 210px;"><nobr>ArrayList&lt;Entry&gt; entries = <b>new </b>ArrayList&lt;Entry&gt;();</nobr></div>
<div style="position: absolute; top: 36016px; left: 210px;"><nobr>NodeList children = e.getChildNodes();</nobr></div>
<div style="position: absolute; top: 36046px; left: 210px;"><nobr>Node entriesNode = children.item(1);</nobr></div>
<div style="position: absolute; top: 36076px; left: 210px;"><nobr>NodeList entryChildren = entriesNode.getChildNodes();</nobr></div>
<div style="position: absolute; top: 36106px; left: 210px;"><nobr><b>for </b>(<b>int </b>m = 0; m &lt; entryChildren.getLength(); m++)</nobr></div>
<div style="position: absolute; top: 36130px; left: 210px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 36154px; left: 251px;"><nobr>Node entryNode = entryChildren.item(m);</nobr></div>
<div style="position: absolute; top: 36181px; left: 251px;"><nobr>Element element = (Element)entryNode;</nobr></div>
<div style="position: absolute; top: 36208px; left: 251px;"><nobr>Entry c = getEntry(element);</nobr></div>
<div style="position: absolute; top: 36235px; left: 251px;"><nobr>entries.add(c);</nobr></div>
<div style="position: absolute; top: 36259px; left: 210px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 36283px; left: 210px;"><nobr><b>return </b>entries;</nobr></div>
<div style="position: absolute; top: 36307px; left: 170px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 36364px; left: 170px;"><nobr><b>private static </b>Entry getEntry(Element e)</nobr></div>
<div style="position: absolute; top: 36388px; left: 170px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 36412px; left: 210px;"><nobr>Name name = <b>null</b>;</nobr></div>
<div style="position: absolute; top: 36440px; left: 210px;"><nobr>String gender = <b>null</b>, phone = <b>null</b>, city = <b>null</b>;</nobr></div>
<div style="position: absolute; top: 36469px; left: 210px;"><nobr>NodeList children = e.getChildNodes();</nobr></div>
<div style="position: absolute; top: 36502px; left: 210px;"><nobr>Element child1 = (Element)children.item(0);</nobr></div>
<div style="position: absolute; top: 36530px; left: 210px;"><nobr>name = getName(child1);</nobr></div>
<div style="position: absolute; top: 36559px; left: 210px;"><nobr>gender = child1.getAttribute("gender");</nobr></div>
<div style="position: absolute; top: 36592px; left: 210px;"><nobr>Element child2 = (Element)children.item(1);</nobr></div>
<div style="position: absolute; top: 36620px; left: 210px;"><nobr>Text textNode = (Text)child2.getFirstChild();</nobr></div>
<div style="position: absolute; top: 36649px; left: 210px;"><nobr>phone = textNode.getData();</nobr></div>
<div style="position: absolute; top: 36682px; left: 210px;"><nobr>Element child3 = (Element)children.item(2);</nobr></div>
<div style="position: absolute; top: 36710px; left: 210px;"><nobr><b>if </b>(child3 != <b>null</b>)</nobr></div>
<div style="position: absolute; top: 36734px; left: 210px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 36761px; left: 251px;"><nobr>textNode = (Text)child3.getFirstChild();</nobr></div>
<div style="position: absolute; top: 36791px; left: 251px;"><nobr>city = textNode.getData();</nobr></div>
<div style="position: absolute; top: 36815px; left: 210px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 36839px; left: 210px;"><nobr><b>return new </b>Entry(name, gender, phone, city);</nobr></div>
<div style="position: absolute; top: 36863px; left: 175px;"><nobr>}</nobr></div>
</span></font>

<div style="position: absolute; top: 37003px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="32"><b>Page 32</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 38113px; left: 87px;"><nobr>32</nobr></div>
<div style="position: absolute; top: 38113px; left: 338px;"><nobr></nobr></div>
<div style="position: absolute; top: 38113px; left: 645px;"><nobr>Document Object Model</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 37123px; left: 128px;"><nobr><b>private static </b>Name getName(Element e)</nobr></div>
<div style="position: absolute; top: 37147px; left: 128px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 37171px; left: 168px;"><nobr>String first = <b>null</b>, middle = <b>null</b>, last = <b>null</b>;</nobr></div>
<div style="position: absolute; top: 37204px; left: 168px;"><nobr>NodeList children = e.getChildNodes();</nobr></div>
<div style="position: absolute; top: 37232px; left: 168px;"><nobr>Element child = (Element)e.getFirstChild();</nobr></div>
<div style="position: absolute; top: 37261px; left: 168px;"><nobr>first = ((Text)child.getFirstChild()).getData();</nobr></div>
<div style="position: absolute; top: 37303px; left: 168px;"><nobr><b>if </b>(children.getLength() == 3)</nobr></div>
<div style="position: absolute; top: 37327px; left: 168px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 37351px; left: 209px;"><nobr>child = (Element)child.getNextSibling();</nobr></div>
<div style="position: absolute; top: 37379px; left: 209px;"><nobr>middle = ((Text)child.getFirstChild()).getData();</nobr></div>
<div style="position: absolute; top: 37403px; left: 168px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 37436px; left: 168px;"><nobr>child = (Element)child.getNextSibling();</nobr></div>
<div style="position: absolute; top: 37465px; left: 168px;"><nobr>last = ((Text)child.getFirstChild()).getData();</nobr></div>
<div style="position: absolute; top: 37493px; left: 168px;"><nobr><b>return new </b>Name(first, middle, last);</nobr></div>
<div style="position: absolute; top: 37517px; left: 128px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 37568px; left: 87px;"><nobr>Again the output remains the same.</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 28px; font-family: Times;">
<div style="position: absolute; top: 37652px; left: 87px;"><nobr><b>Version 4: XPhoneParser.java</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 37709px; left: 87px;"><nobr>The last version of the phone parser program uses an addition</nobr></div>
<div style="position: absolute; top: 37733px; left: 87px;"><nobr>to Java that appears in version 1.5. This new feature allows a</nobr></div>
<div style="position: absolute; top: 37757px; left: 87px;"><nobr>Java program to evaluate any XPath expression.</nobr></div>
<div style="position: absolute; top: 37799px; left: 87px;"><nobr>To extract information from the <b><span class="goohl0">DOM</span></b> tree we can define XPath</nobr></div>
<div style="position: absolute; top: 37823px; left: 87px;"><nobr>expressions that specify exactly which nodes we want from the</nobr></div>
<div style="position: absolute; top: 37847px; left: 87px;"><nobr>tree.</nobr></div>
<div style="position: absolute; top: 37889px; left: 87px;"><nobr>But first we need to look at some of the basics of the XPath</nobr></div>
<div style="position: absolute; top: 37913px; left: 87px;"><nobr>language. Many of the details of XPath will be postponed to</nobr></div>
<div style="position: absolute; top: 37937px; left: 87px;"><nobr>later, but it is a language that we need to master because it is</nobr></div>
<div style="position: absolute; top: 37961px; left: 87px;"><nobr>used heavily in XSLT and XQuery</nobr></div>
</span></font>

<div style="position: absolute; top: 38191px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="33"><b>Page 33</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 39301px; left: 129px;"><nobr>Document Object Model</nobr></div>
<div style="position: absolute; top: 39301px; left: 380px;"><nobr></nobr></div>
<div style="position: absolute; top: 39301px; left: 816px;"><nobr>33</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 28px; font-family: Times;">
<div style="position: absolute; top: 38319px; left: 129px;"><nobr><b>An Introduction to XPath</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 38368px; left: 129px;"><nobr>XPath is an expression language.</nobr></div>
<div style="position: absolute; top: 38401px; left: 129px;"><nobr>It has no commands (statements) and no declarations.</nobr></div>
<div style="position: absolute; top: 38467px; left: 129px;"><nobr><b>XPath expression result types</b></nobr></div>
<div style="position: absolute; top: 38501px; left: 143px;"><nobr>• Node set</nobr></div>
<div style="position: absolute; top: 38530px; left: 143px;"><nobr>• String</nobr></div>
<div style="position: absolute; top: 38558px; left: 143px;"><nobr>• Number</nobr></div>
<div style="position: absolute; top: 38587px; left: 143px;"><nobr>• Boolean</nobr></div>
<div style="position: absolute; top: 38642px; left: 129px;"><nobr><b>Components of XPath expressions</b></nobr></div>
<div style="position: absolute; top: 38677px; left: 143px;"><nobr>• A series of location steps to specify a node or a set of</nobr></div>
<div style="position: absolute; top: 38699px; left: 170px;"><nobr>nodes in a <b><span class="goohl0">DOM</span></b> tree.</nobr></div>
<div style="position: absolute; top: 38734px; left: 143px;"><nobr>• A collection of functions that manipulate node sets, strings,</nobr></div>
<div style="position: absolute; top: 38756px; left: 170px;"><nobr>numbers, and boolean values.</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 38814px; left: 129px;"><nobr><b>Location  Steps</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 38851px; left: 143px;"><nobr>• Primary unit in an XPath.</nobr></div>
<div style="position: absolute; top: 38884px; left: 143px;"><nobr>• A series of location steps defines node or a set of nodes.</nobr></div>
<div style="position: absolute; top: 38917px; left: 143px;"><nobr>• Syntax: axis :: nodeTest [predicate]</nobr></div>
<div style="position: absolute; top: 38957px; left: 129px;"><nobr><b>axis</b></nobr></div>
<div style="position: absolute; top: 38987px; left: 156px;"><nobr>One of thirteen directions from the current node.</nobr></div>
<div style="position: absolute; top: 39017px; left: 156px;"><nobr>At this point we need only the child axis and the attribute axis.</nobr></div>
<div style="position: absolute; top: 39059px; left: 129px;"><nobr><b>node test</b></nobr></div>
<div style="position: absolute; top: 39089px; left: 156px;"><nobr>A specification of a node of some sort using the name of the</nobr></div>
<div style="position: absolute; top: 39113px; left: 156px;"><nobr>node, a function that specifies a kind of node, or an</nobr></div>
<div style="position: absolute; top: 39137px; left: 156px;"><nobr>abbreviation.</nobr></div>
<div style="position: absolute; top: 39179px; left: 129px;"><nobr><b>predicate</b></nobr></div>
<div style="position: absolute; top: 39209px; left: 156px;"><nobr>A filter that removes unwanted nodes by means of a boolean</nobr></div>
<div style="position: absolute; top: 39233px; left: 156px;"><nobr>expression. Only those nodes for which the predicate is true</nobr></div>
<div style="position: absolute; top: 39257px; left: 156px;"><nobr>are retained.</nobr></div>
</span></font>

<div style="position: absolute; top: 39379px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="34"><b>Page 34</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 40489px; left: 87px;"><nobr>34</nobr></div>
<div style="position: absolute; top: 40489px; left: 338px;"><nobr></nobr></div>
<div style="position: absolute; top: 40489px; left: 645px;"><nobr>Document Object Model</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 39499px; left: 87px;"><nobr><b>Location  Definitions</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 39544px; left: 87px;"><nobr>A node or a set of nodes can be specified in the <b><span class="goohl0">DOM</span></b> tree</nobr></div>
<div style="position: absolute; top: 39568px; left: 87px;"><nobr>by a sequence of location steps separated by / symbols.</nobr></div>
<div style="position: absolute; top: 39607px; left: 87px;"><nobr>The path can be defined from the document root of the tree,</nobr></div>
<div style="position: absolute; top: 39631px; left: 87px;"><nobr>denoted by starting with / (an absolute path) or can be specified</nobr></div>
<div style="position: absolute; top: 39655px; left: 87px;"><nobr>relative to some node that we are currently visiting.</nobr></div>
<div style="position: absolute; top: 39694px; left: 87px;"><nobr>We consider only absolute paths starting at the document root</nobr></div>
<div style="position: absolute; top: 39718px; left: 87px;"><nobr>specified by starting the path expression with a slash (/).</nobr></div>
<div style="position: absolute; top: 39757px; left: 87px;"><nobr>Location paths are read from left to right.</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 39823px; left: 87px;"><nobr><b>Sample XPath Expressions</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 39868px; left: 87px;"><nobr>These expressions are to be evaluated against the XML</nobr></div>
<div style="position: absolute; top: 39892px; left: 87px;"><nobr>document phoneA.xml.</nobr></div>
<div style="position: absolute; top: 39934px; left: 87px;"><nobr>Some of the expression will use abbreviations:</nobr></div>
<div style="position: absolute; top: 39967px; left: 122px;"><nobr>No axis means the child axis.</nobr></div>
<div style="position: absolute; top: 40000px; left: 122px;"><nobr>@ means the attribute axis.</nobr></div>
<div style="position: absolute; top: 40033px; left: 122px;"><nobr>A numeric predicate, such as [3] means [position()=3].</nobr></div>
<div style="position: absolute; top: 40066px; left: 122px;"><nobr>Positions start counting at 1.</nobr></div>
<div style="position: absolute; top: 40108px; left: 180px;"><nobr><b>Expression</b></nobr></div>
<div style="position: absolute; top: 40108px; left: 579px;"><nobr><b>Value</b></nobr></div>
<div style="position: absolute; top: 40145px; left: 246px;"><nobr>/</nobr></div>
<div style="position: absolute; top: 40145px; left: 498px;"><nobr>Entire document tree</nobr></div>
<div style="position: absolute; top: 40187px; left: 87px;"><nobr>/child::phoneNumbers/child::entries/child::entry</nobr></div>
<div style="position: absolute; top: 40220px; left: 501px;"><nobr>Set of 4 entry nodes</nobr></div>
<div style="position: absolute; top: 40258px; left: 87px;"><nobr>/phoneNumbers/entries/entry[1]</nobr></div>
<div style="position: absolute; top: 40258px; left: 527px;"><nobr>First entry node</nobr></div>
<div style="position: absolute; top: 40300px; left: 87px;"><nobr>/phoneNumbers/entries/entry[3]/name/attribute::gender</nobr></div>
<div style="position: absolute; top: 40333px; left: 371px;"><nobr>Value of gender attribute for third entry node</nobr></div>
<div style="position: absolute; top: 40370px; left: 87px;"><nobr>/phoneNumbers/entries/entry[4]/name/@gender</nobr></div>
<div style="position: absolute; top: 40403px; left: 375px;"><nobr>Value of gender attribute for last entry node</nobr></div>
<div style="position: absolute; top: 40441px; left: 87px;"><nobr>count(/phoneNumbers/entries/entry) Number of entry nodes</nobr></div>
</span></font>

<div style="position: absolute; top: 40567px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="35"><b>Page 35</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 41677px; left: 129px;"><nobr>Document Object Model</nobr></div>
<div style="position: absolute; top: 41677px; left: 380px;"><nobr></nobr></div>
<div style="position: absolute; top: 41677px; left: 816px;"><nobr>35</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 40687px; left: 129px;"><nobr><b>Displaying XPath Expressions</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 40732px; left: 129px;"><nobr>When an XPath expression is evaluated to be used in a context</nobr></div>
<div style="position: absolute; top: 40756px; left: 129px;"><nobr>that expects a string, its value is converted into string data.</nobr></div>
<div style="position: absolute; top: 40799px; left: 156px;"><nobr>• Numbers become the corresponding strings of digits,</nobr></div>
<div style="position: absolute; top: 40822px; left: 183px;"><nobr>signs, and special symbols.</nobr></div>
<div style="position: absolute; top: 40865px; left: 156px;"><nobr>• Boolean values become the strings "true" or "false".</nobr></div>
<div style="position: absolute; top: 40907px; left: 156px;"><nobr>• Node sets become the concatenation of the values of</nobr></div>
<div style="position: absolute; top: 40930px; left: 183px;"><nobr>each of the nodes in the set.</nobr></div>
<div style="position: absolute; top: 40973px; left: 156px;"><nobr>• An element node becomes the concatenation of all of the</nobr></div>
<div style="position: absolute; top: 40996px; left: 183px;"><nobr>text in the content of the node, including descendants.</nobr></div>
<div style="position: absolute; top: 41039px; left: 156px;"><nobr>• An attribute node becomes the value of the attribute.</nobr></div>
<div style="position: absolute; top: 41104px; left: 129px;"><nobr>For illustration here are the string results from some of the</nobr></div>
<div style="position: absolute; top: 41128px; left: 129px;"><nobr>XPath expressions listed above. For the purpose of this</nobr></div>
<div style="position: absolute; top: 41152px; left: 129px;"><nobr>example, all spaces have been replaced by "+" and all new line</nobr></div>
<div style="position: absolute; top: 41176px; left: 129px;"><nobr>characters by "[nl]".</nobr></div>
<div style="position: absolute; top: 41218px; left: 129px;"><nobr>XPath = /phoneNumbers/entries/entry[1]/name</nobr></div>
<div style="position: absolute; top: 41251px; left: 129px;"><nobr>value = "[nl]+++++++++++Rusty[nl]+++++++++++Nail[nl]++++++++"</nobr></div>
<div style="position: absolute; top: 41317px; left: 129px;"><nobr>XPath = count(/phoneNumbers/entries/entry)</nobr></div>
<div style="position: absolute; top: 41350px; left: 129px;"><nobr>value = "4"</nobr></div>
<div style="position: absolute; top: 41416px; left: 129px;"><nobr>XPath = /phoneNumbers/entries/entry[2]/name/@gender</nobr></div>
<div style="position: absolute; top: 41449px; left: 129px;"><nobr>value = "male"</nobr></div>
<div style="position: absolute; top: 41515px; left: 129px;"><nobr>Xpath = /phoneNumbers/entries/entry[1]/name/@gender</nobr></div>
<div style="position: absolute; top: 41557px; left: 129px;"><nobr>value = ""</nobr></div>
</span></font>

<div style="position: absolute; top: 41755px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="36"><b>Page 36</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 42865px; left: 87px;"><nobr>36</nobr></div>
<div style="position: absolute; top: 42865px; left: 338px;"><nobr></nobr></div>
<div style="position: absolute; top: 42865px; left: 645px;"><nobr>Document Object Model</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 41902px; left: 87px;"><nobr>XPath = /phoneNumbers/entries/entry[5]/name</nobr></div>
<div style="position: absolute; top: 41935px; left: 87px;"><nobr>value = ""</nobr></div>
<div style="position: absolute; top: 42001px; left: 87px;"><nobr>XPath = /phoneNumbers/entries/entry[1]</nobr></div>
<div style="position: absolute; top: 42034px; left: 87px;"><nobr>value = "[nl]++++++++[nl]+++++++++++Rusty[nl]+++++++++++Nail[nl]</nobr></div>
<div style="position: absolute; top: 42067px; left: 121px;"><nobr>++++++++[nl]++++++++335-0055[nl]++++++++Iowa+City[nl]+++++"</nobr></div>
<div style="position: absolute; top: 42133px; left: 87px;"><nobr>XPath = count(/phoneNumbers/entries/entry) &gt; 0</nobr></div>
<div style="position: absolute; top: 42166px; left: 87px;"><nobr>value = "true"</nobr></div>
<div style="position: absolute; top: 42250px; left: 87px;"><nobr>These examples were executed in Java using a <b><span class="goohl0">DOM</span></b> parser.</nobr></div>
<div style="position: absolute; top: 42292px; left: 87px;"><nobr>If we alter the <b><span class="goohl0">DOM</span></b> factory so that it creates a validating parser</nobr></div>
<div style="position: absolute; top: 42316px; left: 87px;"><nobr>that removes ignorable white space and comments, some of the</nobr></div>
<div style="position: absolute; top: 42340px; left: 87px;"><nobr>values are quite different.</nobr></div>
<div style="position: absolute; top: 42406px; left: 87px;"><nobr>XPath = /phoneNumbers/entries/entry[1]/name</nobr></div>
<div style="position: absolute; top: 42439px; left: 87px;"><nobr>value = "RustyNail"</nobr></div>
<div style="position: absolute; top: 42514px; left: 87px;"><nobr>XPath = /phoneNumbers/entries/entry[1]</nobr></div>
<div style="position: absolute; top: 42547px; left: 87px;"><nobr>value = "RustyNail335-0055Iowa+City"</nobr></div>
<div style="position: absolute; top: 42613px; left: 87px;"><nobr>XPath = /</nobr></div>
<div style="position: absolute; top: 42655px; left: 87px;"><nobr>value = "Phone+NumbersRustyNail335-0055Iowa+City</nobr></div>
<div style="position: absolute; top: 42683px; left: 182px;"><nobr>JustinCase354-9876CoralvillePearlE.Gates</nobr></div>
<div style="position: absolute; top: 42712px; left: 182px;"><nobr>335-4582North+LibertyHelenBack337-5967"</nobr></div>
</span></font>

<div style="position: absolute; top: 42943px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="37"><b>Page 37</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 44053px; left: 129px;"><nobr>Document Object Model</nobr></div>
<div style="position: absolute; top: 44053px; left: 380px;"><nobr></nobr></div>
<div style="position: absolute; top: 44053px; left: 816px;"><nobr>37</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 28px; font-family: Times;">
<div style="position: absolute; top: 43080px; left: 129px;"><nobr><b>XPath in Java</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 43138px; left: 129px;"><nobr>Java 1.5 has added a package javax.xml.xpath that provides</nobr></div>
<div style="position: absolute; top: 43162px; left: 129px;"><nobr>classes and interfaces for creating XPath expressions and</nobr></div>
<div style="position: absolute; top: 43186px; left: 129px;"><nobr>evaluating them.</nobr></div>
<div style="position: absolute; top: 43228px; left: 129px;"><nobr>First we use the class XPathFactory to create an instance of</nobr></div>
<div style="position: absolute; top: 43252px; left: 129px;"><nobr>itself and with that instance create an XPath object.</nobr></div>
<div style="position: absolute; top: 43294px; left: 129px;"><nobr>Below we list the <b><span class="goohl1">methods</span></b> to be used.</nobr></div>
<div style="position: absolute; top: 43360px; left: 129px;"><nobr><b><b><span class="goohl1">Methods</span></b> in XPathFactory</b></nobr></div>
<div style="position: absolute; top: 43402px; left: 156px;"><nobr>XPathFactory newInstance()</nobr></div>
<div style="position: absolute; top: 43444px; left: 156px;"><nobr>XPath newPath()</nobr></div>
<div style="position: absolute; top: 43510px; left: 129px;"><nobr><b><b><span class="goohl1">Methods</span></b> in XPath</b></nobr></div>
<div style="position: absolute; top: 43552px; left: 156px;"><nobr>String evaluate(String exp, Object domNode)</nobr></div>
<div style="position: absolute; top: 43580px; left: 345px;"><nobr><b>throws </b>XPathExpressionException</nobr></div>
<div style="position: absolute; top: 43622px; left: 156px;"><nobr>Object evaluate(String exp, Object domNode, QName rType)</nobr></div>
<div style="position: absolute; top: 43651px; left: 345px;"><nobr><b>throws </b>XPathExpressionException</nobr></div>
<div style="position: absolute; top: 43693px; left: 156px;"><nobr>XPathExpression compile(String exp)</nobr></div>
<div style="position: absolute; top: 43721px; left: 345px;"><nobr><b>throws </b>XPathExpressionException</nobr></div>
<div style="position: absolute; top: 43787px; left: 129px;"><nobr><b>Method in XPathExpression</b></nobr></div>
<div style="position: absolute; top: 43829px; left: 156px;"><nobr>String evaluate(Object domNode)</nobr></div>
<div style="position: absolute; top: 43858px; left: 399px;"><nobr><b>throws </b>XPathExpressionException</nobr></div>
<div style="position: absolute; top: 43900px; left: 156px;"><nobr>Object evaluate(Object domNode, QName rType)</nobr></div>
<div style="position: absolute; top: 43928px; left: 345px;"><nobr><b>throws </b>XPathExpressionException</nobr></div>
</span></font>

<div style="position: absolute; top: 44131px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="38"><b>Page 38</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 45241px; left: 87px;"><nobr>38</nobr></div>
<div style="position: absolute; top: 45241px; left: 338px;"><nobr></nobr></div>
<div style="position: absolute; top: 45241px; left: 645px;"><nobr>Document Object Model</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 44260px; left: 87px;"><nobr>The QName parameter rType specifies the type of the Object</nobr></div>
<div style="position: absolute; top: 44284px; left: 87px;"><nobr>returned by the evaluate method.</nobr></div>
<div style="position: absolute; top: 44326px; left: 87px;"><nobr>It must take one of the predefined constants</nobr></div>
<div style="position: absolute; top: 44359px; left: 141px;"><nobr>XPathConstants.NUMBER</nobr></div>
<div style="position: absolute; top: 44392px; left: 141px;"><nobr>XPathConstants.STRING</nobr></div>
<div style="position: absolute; top: 44425px; left: 141px;"><nobr>XPathConstants.BOOLEAN</nobr></div>
<div style="position: absolute; top: 44458px; left: 141px;"><nobr>XPathConstants.NODE</nobr></div>
<div style="position: absolute; top: 44491px; left: 141px;"><nobr>XPathConstants.NODESET</nobr></div>
<div style="position: absolute; top: 44533px; left: 87px;"><nobr>The first three constants correspond to the Java classes</nobr></div>
<div style="position: absolute; top: 44557px; left: 87px;"><nobr>Double, String, and Boolean, respectively.</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 28px; font-family: Times;">
<div style="position: absolute; top: 44631px; left: 87px;"><nobr><b>Version 4 Continued: XPhoneParser.java</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 44689px; left: 87px;"><nobr>In this version we collect information from the <b><span class="goohl0">DOM</span></b> tree by</nobr></div>
<div style="position: absolute; top: 44713px; left: 87px;"><nobr>addressing nodes directly using XPath expressions.</nobr></div>
<div style="position: absolute; top: 44764px; left: 87px;"><nobr>Since we do not have to navigate through the trees, the Java</nobr></div>
<div style="position: absolute; top: 44788px; left: 87px;"><nobr>code is much simpler.</nobr></div>
<div style="position: absolute; top: 44839px; left: 128px;"><nobr><b>import </b>javax.xml.parsers.DocumentBuilderFactory;</nobr></div>
<div style="position: absolute; top: 44863px; left: 128px;"><nobr><b>import </b>javax.xml.parsers.DocumentBuilder;</nobr></div>
<div style="position: absolute; top: 44887px; left: 128px;"><nobr><b>import </b>javax.xml.parsers.ParserConfigurationException;</nobr></div>
<div style="position: absolute; top: 44920px; left: 128px;"><nobr><b>import </b>org.w3c.<b><span class="goohl0">dom</span></b>.Document;</nobr></div>
<div style="position: absolute; top: 44944px; left: 128px;"><nobr><b>import </b>org.xml.sax.SAXException;</nobr></div>
<div style="position: absolute; top: 44977px; left: 128px;"><nobr><b>import </b>javax.xml.xpath.XPathFactory;</nobr></div>
<div style="position: absolute; top: 45004px; left: 128px;"><nobr><b>import </b>javax.xml.xpath.XPath;</nobr></div>
<div style="position: absolute; top: 45031px; left: 128px;"><nobr><b>import </b>javax.xml.xpath.XPathConstants;</nobr></div>
<div style="position: absolute; top: 45058px; left: 128px;"><nobr><b>import </b>javax.xml.xpath.XPathExpressionException;</nobr></div>
<div style="position: absolute; top: 45091px; left: 128px;"><nobr><b>import </b>java.util.ArrayList;</nobr></div>
<div style="position: absolute; top: 45115px; left: 128px;"><nobr><b>import </b>java.io.*;</nobr></div>
</span></font>

<div style="position: absolute; top: 45319px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="39"><b>Page 39</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 46429px; left: 129px;"><nobr>Document Object Model</nobr></div>
<div style="position: absolute; top: 46429px; left: 380px;"><nobr></nobr></div>
<div style="position: absolute; top: 46429px; left: 816px;"><nobr>39</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 45439px; left: 170px;"><nobr><b>public class </b>XPhoneParser</nobr></div>
<div style="position: absolute; top: 45463px; left: 170px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 45487px; left: 210px;"><nobr><b>private </b>DocumentBuilder builder;</nobr></div>
<div style="position: absolute; top: 45520px; left: 210px;"><nobr><b>private </b>XPath path;</nobr></div>
<div style="position: absolute; top: 45568px; left: 210px;"><nobr>XPhoneParser() <b>throws </b>ParserConfigurationException</nobr></div>
<div style="position: absolute; top: 45592px; left: 210px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 45616px; left: 251px;"><nobr>DocumentBuilderFactory factory</nobr></div>
<div style="position: absolute; top: 45640px; left: 340px;"><nobr>= DocumentBuilderFactory.newInstance();</nobr></div>
<div style="position: absolute; top: 45673px; left: 251px;"><nobr>builder = factory.newDocumentBuilder();</nobr></div>
<div style="position: absolute; top: 45715px; left: 251px;"><nobr>XPathFactory xpf = XPathFactory.newInstance();</nobr></div>
<div style="position: absolute; top: 45748px; left: 251px;"><nobr>path = xpf.newXPath();</nobr></div>
<div style="position: absolute; top: 45772px; left: 210px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 45820px; left: 197px;"><nobr>ArrayList&lt;Entry&gt; parse(String fileName)</nobr></div>
<div style="position: absolute; top: 45844px; left: 305px;"><nobr><b>throws </b>SAXException, IOException,</nobr></div>
<div style="position: absolute; top: 45868px; left: 453px;"><nobr>XPathExpressionException</nobr></div>
<div style="position: absolute; top: 45892px; left: 197px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 45916px; left: 224px;"><nobr>File f = <b>new </b>File(fileName);</nobr></div>
<div style="position: absolute; top: 45946px; left: 224px;"><nobr>Document doc = builder.parse(f);</nobr></div>
<div style="position: absolute; top: 45976px; left: 224px;"><nobr>ArrayList&lt;Entry&gt; entries = <b>new </b>ArrayList&lt;Entry&gt;();</nobr></div>
<div style="position: absolute; top: 46018px; left: 224px;"><nobr>Double d = (Double)path.evaluate(</nobr></div>
<div style="position: absolute; top: 46046px; left: 359px;"><nobr>"count(/phoneNumbers/entries/entry)",</nobr></div>
<div style="position: absolute; top: 46075px; left: 359px;"><nobr>doc, XPathConstants.NUMBER));</nobr></div>
<div style="position: absolute; top: 46117px; left: 224px;"><nobr><b>int </b>entryCount = (<b>int</b>)d.doubleValue();</nobr></div>
<div style="position: absolute; top: 46159px; left: 224px;"><nobr><b>for </b>(<b>int </b>k=1; k&lt;=entryCount; k++)</nobr></div>
<div style="position: absolute; top: 46183px; left: 224px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 46207px; left: 251px;"><nobr>String first = path.evaluate(</nobr></div>
<div style="position: absolute; top: 46235px; left: 197px;"><nobr>"/phoneNumbers/entries/entry["+k+"]/name/first", doc);</nobr></div>
<div style="position: absolute; top: 46277px; left: 251px;"><nobr>String middle = path.evaluate(</nobr></div>
<div style="position: absolute; top: 46306px; left: 197px;"><nobr>"/phoneNumbers/entries/entry["+k+"]/name/middle", doc);</nobr></div>
</span></font>

<div style="position: absolute; top: 46507px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="40"><b>Page 40</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 47617px; left: 87px;"><nobr>40</nobr></div>
<div style="position: absolute; top: 47617px; left: 338px;"><nobr></nobr></div>
<div style="position: absolute; top: 47617px; left: 645px;"><nobr>Document Object Model</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 46654px; left: 182px;"><nobr>String last = path.evaluate(</nobr></div>
<div style="position: absolute; top: 46682px; left: 155px;"><nobr>"/phoneNumbers/entries/entry["+k+"]/name/last", doc);</nobr></div>
<div style="position: absolute; top: 46724px; left: 209px;"><nobr>Name name = <b>new </b>Name(first, middle, last);</nobr></div>
<div style="position: absolute; top: 46766px; left: 209px;"><nobr>String gender = path.evaluate(</nobr></div>
<div style="position: absolute; top: 46795px; left: 128px;"><nobr>"/phoneNumbers/entries/entry["+k+"]/name/@gender", doc);</nobr></div>
<div style="position: absolute; top: 46837px; left: 209px;"><nobr>String phone = path.evaluate(</nobr></div>
<div style="position: absolute; top: 46865px; left: 155px;"><nobr>"/phoneNumbers/entries/entry["+k+"]/phone", doc);</nobr></div>
<div style="position: absolute; top: 46907px; left: 209px;"><nobr>String city = path.evaluate(</nobr></div>
<div style="position: absolute; top: 46936px; left: 155px;"><nobr>"/phoneNumbers/entries/entry["+k+"]/city", doc);</nobr></div>
<div style="position: absolute; top: 46978px; left: 209px;"><nobr>Entry ent = <b>new </b>Entry(name, gender, phone, city);</nobr></div>
<div style="position: absolute; top: 47011px; left: 209px;"><nobr>entries.add(ent);</nobr></div>
<div style="position: absolute; top: 47035px; left: 182px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 47059px; left: 182px;"><nobr><b>return </b>entries;</nobr></div>
<div style="position: absolute; top: 47083px; left: 155px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 47131px; left: 155px;"><nobr><b>public static void </b>main(String [] args) <b>throws </b>Exception</nobr></div>
<div style="position: absolute; top: 47155px; left: 155px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 47179px; left: 182px;"><nobr>XPhoneParser parser = <b>new </b>XPhoneParser();</nobr></div>
<div style="position: absolute; top: 47212px; left: 182px;"><nobr>ArrayList&lt;Entry&gt; entries = parser.parse("phoneA.xml");</nobr></div>
<div style="position: absolute; top: 47254px; left: 182px;"><nobr><b>for </b>(Entry anEntry : entries)</nobr></div>
<div style="position: absolute; top: 47287px; left: 209px;"><nobr>System.out.println(anEntry);</nobr></div>
<div style="position: absolute; top: 47311px; left: 155px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 47335px; left: 128px;"><nobr>}</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 28px; font-family: Times;">
<div style="position: absolute; top: 47418px; left: 87px;"><nobr><b>Creating XML Documents Dynamically</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 47467px; left: 87px;"><nobr>Since XML documents consist of text only, a program can create</nobr></div>
<div style="position: absolute; top: 47491px; left: 87px;"><nobr>XML by simply printing strings.</nobr></div>
<div style="position: absolute; top: 47533px; left: 87px;"><nobr>In the next example, we generate Fibonacci numbers and write</nobr></div>
<div style="position: absolute; top: 47557px; left: 87px;"><nobr>their values marked up with appropriate XML. The program even</nobr></div>
<div style="position: absolute; top: 47581px; left: 87px;"><nobr>writes an internal DTD to output.</nobr></div>
</span></font>

<div style="position: absolute; top: 47695px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="41"><b>Page 41</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 48805px; left: 129px;"><nobr>Document Object Model</nobr></div>
<div style="position: absolute; top: 48805px; left: 380px;"><nobr></nobr></div>
<div style="position: absolute; top: 48805px; left: 816px;"><nobr>41</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 47806px; left: 170px;"><nobr><b>import </b>java.math.BigInteger;</nobr></div>
<div style="position: absolute; top: 47854px; left: 170px;"><nobr><b>public class </b>ValidFib</nobr></div>
<div style="position: absolute; top: 47878px; left: 170px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 47902px; left: 197px;"><nobr><b>public static void </b>main(String [] args)</nobr></div>
<div style="position: absolute; top: 47926px; left: 197px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 47950px; left: 224px;"><nobr>System.out.println("&lt;?xml version=\"1.0\"?&gt;");</nobr></div>
<div style="position: absolute; top: 47983px; left: 224px;"><nobr>System.out.println("&lt;!DOCTYPE fibonacciNumbers [");</nobr></div>
<div style="position: absolute; top: 48016px; left: 224px;"><nobr>System.out.println(</nobr></div>
<div style="position: absolute; top: 48044px; left: 251px;"><nobr>"  &lt;!ELEMENT fibonacciNumbers (fibonacci)*&gt;");</nobr></div>
<div style="position: absolute; top: 48077px; left: 224px;"><nobr>System.out.println(</nobr></div>
<div style="position: absolute; top: 48106px; left: 251px;"><nobr>"  &lt;!ELEMENT fibonacci (#PCDATA)&gt;");</nobr></div>
<div style="position: absolute; top: 48139px; left: 224px;"><nobr>System.out.println(</nobr></div>
<div style="position: absolute; top: 48167px; left: 251px;"><nobr>"  &lt;!ATTLIST fibonacci&nbsp;index NMTOKEN #REQUIRED&gt;");</nobr></div>
<div style="position: absolute; top: 48200px; left: 224px;"><nobr>System.out.println("]&gt;");</nobr></div>
<div style="position: absolute; top: 48242px; left: 224px;"><nobr>System.out.println("&lt;fibonacciNumbers&gt;");</nobr></div>
<div style="position: absolute; top: 48275px; left: 224px;"><nobr>BigInteger low  = BigInteger.ONE;</nobr></div>
<div style="position: absolute; top: 48308px; left: 224px;"><nobr>BigInteger high = BigInteger.ONE;</nobr></div>
<div style="position: absolute; top: 48350px; left: 224px;"><nobr><b>for </b>(<b>int </b>k=0; k&lt;10; k++)</nobr></div>
<div style="position: absolute; top: 48374px; left: 224px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 48398px; left: 251px;"><nobr>System.out.print("  &lt;fibonacci index=\"" + k + "\"&gt;");</nobr></div>
<div style="position: absolute; top: 48431px; left: 251px;"><nobr>System.out.print(low);</nobr></div>
<div style="position: absolute; top: 48464px; left: 251px;"><nobr>System.out.println("&lt;/fibonacci&gt;");</nobr></div>
<div style="position: absolute; top: 48497px; left: 251px;"><nobr>BigInteger temp = high;</nobr></div>
<div style="position: absolute; top: 48530px; left: 251px;"><nobr>high = high.add(low);</nobr></div>
<div style="position: absolute; top: 48563px; left: 251px;"><nobr>low = temp;</nobr></div>
<div style="position: absolute; top: 48587px; left: 224px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 48611px; left: 224px;"><nobr>System.out.println("&lt;/fibonacciNumbers&gt;");</nobr></div>
<div style="position: absolute; top: 48635px; left: 197px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 48659px; left: 170px;"><nobr>}</nobr></div>
</span></font>

<div style="position: absolute; top: 48883px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="42"><b>Page 42</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 49993px; left: 87px;"><nobr>42</nobr></div>
<div style="position: absolute; top: 49993px; left: 338px;"><nobr></nobr></div>
<div style="position: absolute; top: 49993px; left: 645px;"><nobr>Document Object Model</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 48994px; left: 87px;"><nobr><b>Output</b></nobr></div>
<div style="position: absolute; top: 49036px; left: 114px;"><nobr>&lt;?xml version="1.0"?&gt;</nobr></div>
<div style="position: absolute; top: 49069px; left: 114px;"><nobr>&lt;!DOCTYPE fibonacciNumbers [</nobr></div>
<div style="position: absolute; top: 49102px; left: 127px;"><nobr>&lt;!ELEMENT fibonacciNumbers (fibonacci)*&gt;</nobr></div>
<div style="position: absolute; top: 49135px; left: 127px;"><nobr>&lt;!ELEMENT fibonacci (#PCDATA)&gt;</nobr></div>
<div style="position: absolute; top: 49168px; left: 127px;"><nobr>&lt;!ATTLIST fibonacci index NMTOKEN #REQUIRED&gt;</nobr></div>
<div style="position: absolute; top: 49201px; left: 114px;"><nobr>]&gt;</nobr></div>
<div style="position: absolute; top: 49234px; left: 114px;"><nobr>&lt;fibonacciNumbers&gt;</nobr></div>
<div style="position: absolute; top: 49267px; left: 127px;"><nobr>&lt;fibonacci index="0"&gt;1&lt;/fibonacci&gt;</nobr></div>
<div style="position: absolute; top: 49300px; left: 127px;"><nobr>&lt;fibonacci index="1"&gt;1&lt;/fibonacci&gt;</nobr></div>
<div style="position: absolute; top: 49333px; left: 127px;"><nobr>&lt;fibonacci index="2"&gt;2&lt;/fibonacci&gt;</nobr></div>
<div style="position: absolute; top: 49366px; left: 127px;"><nobr>&lt;fibonacci index="3"&gt;3&lt;/fibonacci&gt;</nobr></div>
<div style="position: absolute; top: 49399px; left: 127px;"><nobr>&lt;fibonacci index="4"&gt;5&lt;/fibonacci&gt;</nobr></div>
<div style="position: absolute; top: 49432px; left: 127px;"><nobr>&lt;fibonacci index="5"&gt;8&lt;/fibonacci&gt;</nobr></div>
<div style="position: absolute; top: 49465px; left: 127px;"><nobr>&lt;fibonacci index="6"&gt;13&lt;/fibonacci&gt;</nobr></div>
<div style="position: absolute; top: 49498px; left: 127px;"><nobr>&lt;fibonacci index="7"&gt;21&lt;/fibonacci&gt;</nobr></div>
<div style="position: absolute; top: 49531px; left: 127px;"><nobr>&lt;fibonacci index="8"&gt;34&lt;/fibonacci&gt;</nobr></div>
<div style="position: absolute; top: 49564px; left: 127px;"><nobr>&lt;fibonacci index="9"&gt;55&lt;/fibonacci&gt;</nobr></div>
<div style="position: absolute; top: 49597px; left: 114px;"><nobr>&lt;/fibonacciNumbers&gt;</nobr></div>
</span></font>

<div style="position: absolute; top: 50071px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="43"><b>Page 43</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 51181px; left: 129px;"><nobr>Document Object Model</nobr></div>
<div style="position: absolute; top: 51181px; left: 380px;"><nobr></nobr></div>
<div style="position: absolute; top: 51181px; left: 816px;"><nobr>43</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 50191px; left: 129px;"><nobr><b>Problems with Using Text Output to Build XML</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 50236px; left: 129px;"><nobr>The responsibility for creating well-formed XML lies entirely on</nobr></div>
<div style="position: absolute; top: 50260px; left: 129px;"><nobr>the programmer.</nobr></div>
<div style="position: absolute; top: 50296px; left: 129px;"><nobr>The only guarantee of matching tags is very careful</nobr></div>
<div style="position: absolute; top: 50320px; left: 129px;"><nobr>programming.</nobr></div>
<div style="position: absolute; top: 50362px; left: 129px;"><nobr>This approach may be adequate for small and simple XML</nobr></div>
<div style="position: absolute; top: 50386px; left: 129px;"><nobr>documents, but it will be very difficult to produce a complex</nobr></div>
<div style="position: absolute; top: 50410px; left: 129px;"><nobr>document using hand-coded output.</nobr></div>
<div style="position: absolute; top: 50467px; left: 129px;"><nobr>Alternative: Use <b><span class="goohl1">methods</span></b> in the <b><span class="goohl0">DOM</span></b> classes and interfaces to</nobr></div>
<div style="position: absolute; top: 50491px; left: 129px;"><nobr>build a <b><span class="goohl0">DOM</span></b> tree. Then we are guaranteed to get at least a well-</nobr></div>
<div style="position: absolute; top: 50515px; left: 129px;"><nobr>formed XML document.</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 50581px; left: 129px;"><nobr><b><b><span class="goohl1">Methods</span></b> for Creating a <b><span class="goohl0">DOM</span></b> Tree</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 50641px; left: 129px;"><nobr>These <b><span class="goohl1">methods</span></b> are designed to work down from the root of a</nobr></div>
<div style="position: absolute; top: 50665px; left: 129px;"><nobr>newly created empty <b><span class="goohl0">DOM</span></b> tree of type Document.</nobr></div>
<div style="position: absolute; top: 50707px; left: 129px;"><nobr>Observe that we have ways to create the nodes we need and</nobr></div>
<div style="position: absolute; top: 50731px; left: 129px;"><nobr>to add them to the document tree as we build the XML</nobr></div>
<div style="position: absolute; top: 50755px; left: 129px;"><nobr>document it represents.</nobr></div>
<div style="position: absolute; top: 50812px; left: 129px;"><nobr><b>Method in DocumentBuilder</b></nobr></div>
<div style="position: absolute; top: 50845px; left: 183px;"><nobr>Document newDocument()</nobr></div>
<div style="position: absolute; top: 50911px; left: 129px;"><nobr><b><b><span class="goohl1">Methods</span></b> in Document</b></nobr></div>
<div style="position: absolute; top: 50944px; left: 183px;"><nobr>Element <b><span class="goohl3">createElement</span></b>(String tagName)</nobr></div>
<div style="position: absolute; top: 50980px; left: 183px;"><nobr>Text createTextNode(String data)</nobr></div>
<div style="position: absolute; top: 51016px; left: 183px;"><nobr>Attr createAttribute(String name)</nobr></div>
<div style="position: absolute; top: 51052px; left: 183px;"><nobr>Comment createComment(String data)</nobr></div>
<div style="position: absolute; top: 51088px; left: 183px;"><nobr>CDATASection&nbsp;createCDATASection(String data)</nobr></div>
<div style="position: absolute; top: 51124px; left: 183px;"><nobr>ProcessingInstruction</nobr></div>
<div style="position: absolute; top: 51148px; left: 237px;"><nobr>createProcessingInstruction(String target, String data)</nobr></div>
</span></font>

<div style="position: absolute; top: 51259px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="44"><b>Page 44</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 52369px; left: 87px;"><nobr>44</nobr></div>
<div style="position: absolute; top: 52369px; left: 338px;"><nobr></nobr></div>
<div style="position: absolute; top: 52369px; left: 645px;"><nobr>Document Object Model</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 51379px; left: 87px;"><nobr><b><b><span class="goohl1">Methods</span></b> in Node</b></nobr></div>
<div style="position: absolute; top: 51415px; left: 141px;"><nobr>Node appendChild(Node newChild)</nobr></div>
<div style="position: absolute; top: 51451px; left: 141px;"><nobr>Node insertBefore(Node newChild, Node refChild)</nobr></div>
<div style="position: absolute; top: 51487px; left: 141px;"><nobr>Node removeChild(Node oldChild)</nobr></div>
<div style="position: absolute; top: 51523px; left: 141px;"><nobr>Node replaceChild(Node newChild, Node oldChild)</nobr></div>
<div style="position: absolute; top: 51589px; left: 87px;"><nobr><b><b><span class="goohl1">Methods</span></b> in Element</b></nobr></div>
<div style="position: absolute; top: 51625px; left: 141px;"><nobr><b>void </b>setAttribute(String name, String value)</nobr></div>
<div style="position: absolute; top: 51661px; left: 141px;"><nobr>Attr setAttributeNode(Attr newAttr)</nobr></div>
<div style="position: absolute; top: 51697px; left: 141px;"><nobr><b>void </b>removeAttribute(String name)</nobr></div>
<div style="position: absolute; top: 51733px; left: 141px;"><nobr>Attr removeAttributeNode(Attr oldAttr)</nobr></div>
<div style="position: absolute; top: 51799px; left: 87px;"><nobr><b>Method in Attr</b></nobr></div>
<div style="position: absolute; top: 51835px; left: 141px;"><nobr><b>void </b>setValue(String value)</nobr></div>
<div style="position: absolute; top: 51901px; left: 87px;"><nobr><b><b><span class="goohl1">Methods</span></b> In CharacterData</b></nobr></div>
<div style="position: absolute; top: 51934px; left: 249px;"><nobr>Inherited by Text, Comment, and CDATASection</nobr></div>
<div style="position: absolute; top: 51967px; left: 141px;"><nobr><b>void </b>appendData(String data)</nobr></div>
<div style="position: absolute; top: 52000px; left: 141px;"><nobr><b>void </b>deleteData(<b>int </b>offset, <b>int </b>count)</nobr></div>
<div style="position: absolute; top: 52033px; left: 141px;"><nobr><b>void </b>insertData(<b>int </b>offset, String data)</nobr></div>
<div style="position: absolute; top: 52066px; left: 141px;"><nobr><b>void </b>replaceData(<b>int </b>offset, <b>int </b>count, String data)</nobr></div>
<div style="position: absolute; top: 52132px; left: 87px;"><nobr><b>Method in ProcessingInstruction</b></nobr></div>
<div style="position: absolute; top: 52168px; left: 141px;"><nobr><b>void </b>setData(String data)</nobr></div>
</span></font>

<div style="position: absolute; top: 52447px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="45"><b>Page 45</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 53557px; left: 129px;"><nobr>Document Object Model</nobr></div>
<div style="position: absolute; top: 53557px; left: 380px;"><nobr></nobr></div>
<div style="position: absolute; top: 53557px; left: 816px;"><nobr>45</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 28px; font-family: Times;">
<div style="position: absolute; top: 52581px; left: 129px;"><nobr><b>Example: XMLBuilder.java</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 52639px; left: 129px;"><nobr>In this example we create an array list containing four Entry</nobr></div>
<div style="position: absolute; top: 52663px; left: 129px;"><nobr>objects built using hard-coded information (in the main method).</nobr></div>
<div style="position: absolute; top: 52729px; left: 129px;"><nobr><b><b><span class="goohl1">Methods</span></b> in the Program</b></nobr></div>
<div style="position: absolute; top: 52771px; left: 156px;"><nobr>Document build(ArrayList&lt;Entry&gt; entries)</nobr></div>
<div style="position: absolute; top: 52813px; left: 183px;"><nobr>Creates a Document object (the <b><span class="goohl0">DOM</span></b> tree) using the array</nobr></div>
<div style="position: absolute; top: 52837px; left: 183px;"><nobr>list of Entry objects.</nobr></div>
<div style="position: absolute; top: 52888px; left: 156px;"><nobr><b>private </b>Element createEntries(ArrayList&lt;Entry&gt; entries)</nobr></div>
<div style="position: absolute; top: 52930px; left: 183px;"><nobr>Create an element node representing the tree rooted at</nobr></div>
<div style="position: absolute; top: 52954px; left: 183px;"><nobr>the element entries.</nobr></div>
<div style="position: absolute; top: 53005px; left: 156px;"><nobr><b>private </b>Element createEntry(Entry anEntry)</nobr></div>
<div style="position: absolute; top: 53047px; left: 183px;"><nobr>Create an element node representing a tree rooted at the</nobr></div>
<div style="position: absolute; top: 53071px; left: 183px;"><nobr>element entry.</nobr></div>
<div style="position: absolute; top: 53122px; left: 156px;"><nobr><b>private </b>Element createName(Name n, String gender)</nobr></div>
<div style="position: absolute; top: 53164px; left: 183px;"><nobr>Create an element node representing a tree rooted at the</nobr></div>
<div style="position: absolute; top: 53188px; left: 183px;"><nobr>element name.</nobr></div>
<div style="position: absolute; top: 53239px; left: 156px;"><nobr><b>private </b>Element <b><span class="goohl2">createTextElement</span></b>(String nm, String txt)</nobr></div>
<div style="position: absolute; top: 53281px; left: 183px;"><nobr>This utility operation creates an element with a given name</nobr></div>
<div style="position: absolute; top: 53304px; left: 183px;"><nobr>nm and specified text content txt.</nobr></div>
<div style="position: absolute; top: 53389px; left: 129px;"><nobr>Printing the tree created will require some new features of Java</nobr></div>
<div style="position: absolute; top: 53413px; left: 129px;"><nobr>1.5 that we will describe after the program listing.</nobr></div>
</span></font>

<div style="position: absolute; top: 53635px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="46"><b>Page 46</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 54745px; left: 87px;"><nobr>46</nobr></div>
<div style="position: absolute; top: 54745px; left: 338px;"><nobr></nobr></div>
<div style="position: absolute; top: 54745px; left: 645px;"><nobr>Document Object Model</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 53764px; left: 128px;"><nobr><b>import </b>javax.xml.parsers.DocumentBuilderFactory;</nobr></div>
<div style="position: absolute; top: 53788px; left: 128px;"><nobr><b>import </b>javax.xml.parsers.DocumentBuilder;</nobr></div>
<div style="position: absolute; top: 53812px; left: 128px;"><nobr><b>import </b>javax.xml.parsers.ParserConfigurationException;</nobr></div>
<div style="position: absolute; top: 53845px; left: 128px;"><nobr><b>import </b>org.w3c.<b><span class="goohl0">dom</span></b>.Document;</nobr></div>
<div style="position: absolute; top: 53869px; left: 128px;"><nobr><b>import </b>org.w3c.<b><span class="goohl0">dom</span></b>.Element;</nobr></div>
<div style="position: absolute; top: 53893px; left: 128px;"><nobr><b>import </b>org.w3c.<b><span class="goohl0">dom</span></b>.Text;</nobr></div>
<div style="position: absolute; top: 53926px; left: 128px;"><nobr><b>import </b>java.util.ArrayList;</nobr></div>
<div style="position: absolute; top: 53950px; left: 128px;"><nobr><b>import </b>java.util.Iterator;</nobr></div>
<div style="position: absolute; top: 53983px; left: 128px;"><nobr><b>import </b>org.w3c.<b><span class="goohl0">dom</span></b>.DOMImplementation;</nobr></div>
<div style="position: absolute; top: 54007px; left: 128px;"><nobr><b>import </b>org.w3c.<b><span class="goohl0">dom</span></b>.ls.DOMImplementationLS;</nobr></div>
<div style="position: absolute; top: 54031px; left: 128px;"><nobr><b>import </b>org.w3c.<b><span class="goohl0">dom</span></b>.ls.LSSerializer;</nobr></div>
<div style="position: absolute; top: 54088px; left: 128px;"><nobr><b>public class </b>XMLBuilder</nobr></div>
<div style="position: absolute; top: 54112px; left: 128px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 54136px; left: 155px;"><nobr><b>private </b>DocumentBuilder builder;</nobr></div>
<div style="position: absolute; top: 54169px; left: 155px;"><nobr><b>private </b>Document doc;</nobr></div>
<div style="position: absolute; top: 54217px; left: 155px;"><nobr>Builder() <b>throws </b>ParserConfigurationException</nobr></div>
<div style="position: absolute; top: 54241px; left: 155px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 54265px; left: 182px;"><nobr>DocumentBuilderFactory factory =</nobr></div>
<div style="position: absolute; top: 54289px; left: 303px;"><nobr>DocumentBuilderFactory.newInstance();</nobr></div>
<div style="position: absolute; top: 54322px; left: 182px;"><nobr>builder = factory.newDocumentBuilder();</nobr></div>
<div style="position: absolute; top: 54346px; left: 155px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 54394px; left: 155px;"><nobr>Document build(ArrayList&lt;Entry&gt; entries)</nobr></div>
<div style="position: absolute; top: 54418px; left: 155px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 54442px; left: 182px;"><nobr>doc = builder.newDocument();</nobr></div>
<div style="position: absolute; top: 54475px; left: 182px;"><nobr>Element pn = doc.<b><span class="goohl3">createElement</span></b>("phoneNumbers");</nobr></div>
<div style="position: absolute; top: 54508px; left: 182px;"><nobr>doc.appendChild(pn);</nobr></div>
<div style="position: absolute; top: 54541px; left: 182px;"><nobr>pn.appendChild(</nobr></div>
<div style="position: absolute; top: 54569px; left: 236px;"><nobr><b><span class="goohl2">createTextElement</span></b>("title", "Phone Numbers"));</nobr></div>
<div style="position: absolute; top: 54602px; left: 182px;"><nobr>pn.appendChild(createEntries(entries));</nobr></div>
<div style="position: absolute; top: 54635px; left: 182px;"><nobr><b>return </b>doc;</nobr></div>
<div style="position: absolute; top: 54659px; left: 155px;"><nobr>}</nobr></div>
</span></font>

<div style="position: absolute; top: 54823px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="47"><b>Page 47</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 55933px; left: 129px;"><nobr>Document Object Model</nobr></div>
<div style="position: absolute; top: 55933px; left: 380px;"><nobr></nobr></div>
<div style="position: absolute; top: 55933px; left: 816px;"><nobr>47</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 54934px; left: 197px;"><nobr><b>private </b>Element createEntries(ArrayList&lt;Entry&gt; entries)</nobr></div>
<div style="position: absolute; top: 54958px; left: 197px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 54982px; left: 224px;"><nobr>Element e = doc.<b><span class="goohl3">createElement</span></b>("entries");</nobr></div>
<div style="position: absolute; top: 55015px; left: 224px;"><nobr><b>for </b>(Entry anEntry : entries)</nobr></div>
<div style="position: absolute; top: 55043px; left: 278px;"><nobr>e.appendChild(createEntry(anEntry));</nobr></div>
<div style="position: absolute; top: 55076px; left: 224px;"><nobr><b>return </b>e;</nobr></div>
<div style="position: absolute; top: 55100px; left: 197px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 55148px; left: 197px;"><nobr><b>private </b>Element createEntry(Entry ent)</nobr></div>
<div style="position: absolute; top: 55172px; left: 197px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 55196px; left: 224px;"><nobr>Element e = doc.<b><span class="goohl3">createElement</span></b>("entry");</nobr></div>
<div style="position: absolute; top: 55225px; left: 224px;"><nobr>e.appendChild(createName(ent.getName(),</nobr></div>
<div style="position: absolute; top: 55253px; left: 534px;"><nobr>ent.getGender()));</nobr></div>
<div style="position: absolute; top: 55277px; left: 224px;"><nobr>e.appendChild(</nobr></div>
<div style="position: absolute; top: 55306px; left: 278px;"><nobr><b><span class="goohl2">createTextElement</span></b>("phone",  ent.getPhone()));</nobr></div>
<div style="position: absolute; top: 55339px; left: 224px;"><nobr>String city = ent.getCity();</nobr></div>
<div style="position: absolute; top: 55372px; left: 224px;"><nobr><b>if </b>(city != <b>null </b>&amp;&amp; !city.equals(""))</nobr></div>
<div style="position: absolute; top: 55400px; left: 251px;"><nobr>e.appendChild(<b><span class="goohl2">createTextElement</span></b>("city", city));</nobr></div>
<div style="position: absolute; top: 55433px; left: 224px;"><nobr><b>return </b>e;</nobr></div>
<div style="position: absolute; top: 55457px; left: 197px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 55505px; left: 197px;"><nobr><b>private </b>Element createName(Name n, String gender)</nobr></div>
<div style="position: absolute; top: 55529px; left: 197px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 55553px; left: 224px;"><nobr>Element e = doc.<b><span class="goohl3">createElement</span></b>("name");</nobr></div>
<div style="position: absolute; top: 55586px; left: 224px;"><nobr><b>if </b>(gender != <b>null </b>&amp;&amp; !gender.equals(""))</nobr></div>
<div style="position: absolute; top: 55615px; left: 251px;"><nobr>e.setAttribute("gender", gender);</nobr></div>
<div style="position: absolute; top: 55652px; left: 224px;"><nobr>e.appendChild(<b><span class="goohl2">createTextElement</span></b>("first", n.getFirst()));</nobr></div>
<div style="position: absolute; top: 55690px; left: 224px;"><nobr>String middle = n.getMiddle();</nobr></div>
<div style="position: absolute; top: 55723px; left: 224px;"><nobr><b>if </b>(middle != <b>null </b>&amp;&amp; !middle.equals(""))</nobr></div>
<div style="position: absolute; top: 55751px; left: 251px;"><nobr>e.appendChild(<b><span class="goohl2">createTextElement</span></b>("middle", middle));</nobr></div>
<div style="position: absolute; top: 55789px; left: 224px;"><nobr>e.appendChild(<b><span class="goohl2">createTextElement</span></b>("last", n.getLast()));</nobr></div>
<div style="position: absolute; top: 55822px; left: 224px;"><nobr><b>return </b>e;</nobr></div>
<div style="position: absolute; top: 55846px; left: 197px;"><nobr>}</nobr></div>
</span></font>

<div style="position: absolute; top: 56011px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="48"><b>Page 48</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 57121px; left: 87px;"><nobr>48</nobr></div>
<div style="position: absolute; top: 57121px; left: 338px;"><nobr></nobr></div>
<div style="position: absolute; top: 57121px; left: 645px;"><nobr>Document Object Model</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 56158px; left: 155px;"><nobr><b>private </b>Element <b><span class="goohl2">createTextElement</span></b>(String nm, String txt)</nobr></div>
<div style="position: absolute; top: 56182px; left: 155px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 56206px; left: 182px;"><nobr>Element e = doc.<b><span class="goohl3">createElement</span></b>(nm);</nobr></div>
<div style="position: absolute; top: 56239px; left: 182px;"><nobr>Text t = doc.createTextNode(txt);</nobr></div>
<div style="position: absolute; top: 56272px; left: 182px;"><nobr>e.appendChild(t);</nobr></div>
<div style="position: absolute; top: 56305px; left: 182px;"><nobr><b>return </b>e;</nobr></div>
<div style="position: absolute; top: 56329px; left: 155px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 56386px; left: 155px;"><nobr><b>public static void </b>main(String [] args) <b>throws </b>Exception</nobr></div>
<div style="position: absolute; top: 56410px; left: 155px;"><nobr>{</nobr></div>
<div style="position: absolute; top: 56434px; left: 182px;"><nobr>ArrayList&lt;Entry&gt; entries = <b>new </b>ArrayList&lt;Entry&gt;();</nobr></div>
<div style="position: absolute; top: 56476px; left: 182px;"><nobr>entries.add(new Entry(<b>new </b>Name("Robin", "Banks"),</nobr></div>
<div style="position: absolute; top: 56506px; left: 425px;"><nobr>"354-4455"));</nobr></div>
<div style="position: absolute; top: 56548px; left: 182px;"><nobr>entries.add(new Entry(<b>new </b>Name("Forrest", "Murmers"),</nobr></div>
<div style="position: absolute; top: 56578px; left: 425px;"><nobr>"male", "341-6152", "Solon"));</nobr></div>
<div style="position: absolute; top: 56620px; left: 182px;"><nobr>entries.add(new Entry(<b>new </b>Name("Barb", "A", "Wire"),</nobr></div>
<div style="position: absolute; top: 56650px; left: 425px;"><nobr>"337-8182", "Hills"));</nobr></div>
<div style="position: absolute; top: 56692px; left: 182px;"><nobr>entries.add(new Entry(<b>new </b>Name("Isabel", "Ringing"),</nobr></div>
<div style="position: absolute; top: 56722px; left: 425px;"><nobr>"female", "335-5985", <b>null</b>));</nobr></div>
<div style="position: absolute; top: 56764px; left: 182px;"><nobr>XMLBuilder builder = <b>new </b>XMLBuilder();</nobr></div>
<div style="position: absolute; top: 56797px; left: 182px;"><nobr>Document doc = builder.build(entries);</nobr></div>
<div style="position: absolute; top: 56839px; left: 182px;"><nobr>DOMImplementation imp = doc.getImplementation();</nobr></div>
<div style="position: absolute; top: 56872px; left: 182px;"><nobr>DOMImplementationLS impLS =</nobr></div>
<div style="position: absolute; top: 56900px; left: 209px;"><nobr>(DOMImplementationLS)imp.getFeature("LS", "3.0");</nobr></div>
<div style="position: absolute; top: 56933px; left: 182px;"><nobr>LSSerializer ser = impLS.createLSSerializer();</nobr></div>
<div style="position: absolute; top: 56966px; left: 182px;"><nobr>String out = ser.writeToString(doc);</nobr></div>
<div style="position: absolute; top: 56999px; left: 182px;"><nobr>System.out.println(out);</nobr></div>
<div style="position: absolute; top: 57023px; left: 155px;"><nobr>}</nobr></div>
<div style="position: absolute; top: 57047px; left: 128px;"><nobr>}</nobr></div>
</span></font>

<div style="position: absolute; top: 57199px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="49"><b>Page 49</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 58309px; left: 129px;"><nobr>Document Object Model</nobr></div>
<div style="position: absolute; top: 58309px; left: 380px;"><nobr></nobr></div>
<div style="position: absolute; top: 58309px; left: 816px;"><nobr>49</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 57346px; left: 129px;"><nobr><b>Displaying the Tree</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 22px; font-family: Times;">
<div style="position: absolute; top: 57415px; left: 129px;"><nobr>One way to get a string representation of the <b><span class="goohl0">DOM</span></b> tree (the</nobr></div>
<div style="position: absolute; top: 57439px; left: 129px;"><nobr>XML document) uses an object of type LSSerializer (LS means</nobr></div>
<div style="position: absolute; top: 57463px; left: 129px;"><nobr>Load and Save).</nobr></div>
<div style="position: absolute; top: 57505px; left: 129px;"><nobr>We obtain this LSSerializer using the following mysterious</nobr></div>
<div style="position: absolute; top: 57529px; left: 129px;"><nobr>recipe.</nobr></div>
<div style="position: absolute; top: 57571px; left: 129px;"><nobr>1. Using the Document object, get the DOMImplementation</nobr></div>
<div style="position: absolute; top: 57595px; left: 164px;"><nobr>object that handles this document.</nobr></div>
<div style="position: absolute; top: 57628px; left: 183px;"><nobr>DOMImplementation imp = doc.getImplementation();</nobr></div>
<div style="position: absolute; top: 57694px; left: 129px;"><nobr>2. Get a DOMImplementationLS object using the getFeature</nobr></div>
<div style="position: absolute; top: 57718px; left: 164px;"><nobr>method of the DOMImplementation with two parameters,</nobr></div>
<div style="position: absolute; top: 57742px; left: 164px;"><nobr>feature = "LS" and version = "3.0".</nobr></div>
<div style="position: absolute; top: 57775px; left: 183px;"><nobr>DOMImplementationLS implLS =</nobr></div>
<div style="position: absolute; top: 57803px; left: 224px;"><nobr>(DOMImplementationLS)imp.getFeature("LS", "3.0");</nobr></div>
<div style="position: absolute; top: 57869px; left: 129px;"><nobr>3. Using the instance method createLSSerializer for the</nobr></div>
<div style="position: absolute; top: 57893px; left: 164px;"><nobr>DOMImplementationLS object, we get an LSSerializer object.</nobr></div>
<div style="position: absolute; top: 57926px; left: 183px;"><nobr>LSSerializer ser = impLS.createLSSerializer();</nobr></div>
<div style="position: absolute; top: 57992px; left: 129px;"><nobr>4. The LSSerializer object knows how to write the tree.</nobr></div>
<div style="position: absolute; top: 58016px; left: 164px;"><nobr>We use the method that creates a string.</nobr></div>
<div style="position: absolute; top: 58049px; left: 183px;"><nobr>String out = ser.writeToString(doc);</nobr></div>
<div style="position: absolute; top: 58106px; left: 129px;"><nobr>Note that the string produced by ser.writeToString has no</nobr></div>
<div style="position: absolute; top: 58130px; left: 129px;"><nobr>ignorable white space, which mean there are no new lines and</nobr></div>
<div style="position: absolute; top: 58154px; left: 129px;"><nobr>no indenting.</nobr></div>
<div style="position: absolute; top: 58187px; left: 129px;"><nobr>To see the XML document with new lines and indenting, we can</nobr></div>
<div style="position: absolute; top: 58211px; left: 129px;"><nobr>run it through the linux utility xmllint with the --format option.</nobr></div>
<div style="position: absolute; top: 58244px; left: 129px;"><nobr>If we want to look at the file in a text editor, we must change the</nobr></div>
<div style="position: absolute; top: 58268px; left: 129px;"><nobr>encoding to "UTF-8" before formatting with xmllint.</nobr></div>
</span></font>

<div style="position: absolute; top: 58387px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="50"><b>Page 50</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 11px; font-family: Times;">
<div style="position: absolute; top: 59497px; left: 87px;"><nobr>50</nobr></div>
<div style="position: absolute; top: 59497px; left: 338px;"><nobr></nobr></div>
<div style="position: absolute; top: 59497px; left: 645px;"><nobr>Document Object Model</nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 58474px; left: 87px;"><nobr><b>Formatted  Output</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 58528px; left: 128px;"><nobr>&lt;?xml version="1.0" encoding="UTF-16"?&gt;</nobr></div>
<div style="position: absolute; top: 58552px; left: 128px;"><nobr>&lt;phoneNumbers&gt;</nobr></div>
<div style="position: absolute; top: 58576px; left: 139px;"><nobr>&lt;title&gt;Phone Numbers&lt;/title&gt;</nobr></div>
<div style="position: absolute; top: 58600px; left: 139px;"><nobr>&lt;entries&gt;</nobr></div>
<div style="position: absolute; top: 58624px; left: 151px;"><nobr>&lt;entry&gt;</nobr></div>
<div style="position: absolute; top: 58648px; left: 163px;"><nobr>&lt;name&gt;</nobr></div>
<div style="position: absolute; top: 58672px; left: 174px;"><nobr>&lt;first&gt;Robin&lt;/first&gt;</nobr></div>
<div style="position: absolute; top: 58696px; left: 174px;"><nobr>&lt;last&gt;Banks&lt;/last&gt;</nobr></div>
<div style="position: absolute; top: 58720px; left: 163px;"><nobr>&lt;/name&gt;</nobr></div>
<div style="position: absolute; top: 58744px; left: 168px;"><nobr>&lt;phone&gt;354-4455&lt;/phone&gt;</nobr></div>
<div style="position: absolute; top: 58768px; left: 151px;"><nobr>&lt;/entry&gt;</nobr></div>
<div style="position: absolute; top: 58792px; left: 151px;"><nobr>&lt;entry&gt;</nobr></div>
<div style="position: absolute; top: 58816px; left: 164px;"><nobr>&lt;name gender="male"&gt;</nobr></div>
<div style="position: absolute; top: 58840px; left: 174px;"><nobr>&lt;first&gt;Forrest&lt;/first&gt;</nobr></div>
<div style="position: absolute; top: 58864px; left: 174px;"><nobr>&lt;last&gt;Murmers&lt;/last&gt;</nobr></div>
<div style="position: absolute; top: 58888px; left: 163px;"><nobr>&lt;/name&gt;</nobr></div>
<div style="position: absolute; top: 58912px; left: 168px;"><nobr>&lt;phone&gt;341-6152&lt;/phone&gt;</nobr></div>
<div style="position: absolute; top: 58936px; left: 164px;"><nobr>&lt;city&gt;Solon&lt;/city&gt;</nobr></div>
<div style="position: absolute; top: 58960px; left: 151px;"><nobr>&lt;/entry&gt;</nobr></div>
<div style="position: absolute; top: 58984px; left: 151px;"><nobr>&lt;entry&gt;</nobr></div>
<div style="position: absolute; top: 59008px; left: 163px;"><nobr>&lt;name&gt;</nobr></div>
<div style="position: absolute; top: 59032px; left: 174px;"><nobr>&lt;first&gt;Barb&lt;/first&gt;</nobr></div>
<div style="position: absolute; top: 59056px; left: 174px;"><nobr>&lt;middle&gt;A&lt;/middle&gt;</nobr></div>
<div style="position: absolute; top: 59080px; left: 174px;"><nobr>&lt;last&gt;Wire&lt;/last&gt;</nobr></div>
<div style="position: absolute; top: 59104px; left: 163px;"><nobr>&lt;/name&gt;</nobr></div>
<div style="position: absolute; top: 59128px; left: 168px;"><nobr>&lt;phone&gt;337-8182&lt;/phone&gt;</nobr></div>
<div style="position: absolute; top: 59152px; left: 162px;"><nobr>&lt;city&gt;Hills&lt;/city&gt;</nobr></div>
<div style="position: absolute; top: 59176px; left: 151px;"><nobr>&lt;/entry&gt;</nobr></div>
<div style="position: absolute; top: 59200px; left: 151px;"><nobr>&lt;entry&gt;</nobr></div>
<div style="position: absolute; top: 59224px; left: 163px;"><nobr>&lt;name&gt;</nobr></div>
<div style="position: absolute; top: 59248px; left: 173px;"><nobr>&lt;first&gt;Isabel&lt;/first&gt;</nobr></div>
<div style="position: absolute; top: 59272px; left: 174px;"><nobr>&lt;last&gt;Ringing&lt;/last&gt;</nobr></div>
<div style="position: absolute; top: 59296px; left: 163px;"><nobr>&lt;/name&gt;</nobr></div>
<div style="position: absolute; top: 59320px; left: 168px;"><nobr>&lt;phone&gt;335-5985&lt;/phone&gt;</nobr></div>
<div style="position: absolute; top: 59344px; left: 151px;"><nobr>&lt;/entry&gt;</nobr></div>
<div style="position: absolute; top: 59368px; left: 139px;"><nobr>&lt;/entries&gt;</nobr></div>
<div style="position: absolute; top: 59392px; left: 128px;"><nobr>&lt;/phoneNumbers&gt;</nobr></div>
</span></font>
</body></html>